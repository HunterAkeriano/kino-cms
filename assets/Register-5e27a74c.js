import{n as c,o,d as i,e as s,t as l,u as n,q as p,v as h,s as g,l as d,x as f,A as m}from"./index-bff362dc.js";const b={class:"block"},_={class:"register-box mt-5"},E=s("div",{class:"register-logo"},[s("a",{href:"../../index2.html"},[s("b",null,"Kino"),f("CMS")])],-1),v={class:"card"},S={class:"card-body register-card-body"},R={class:"login-box-msg"},w={class:"input-group mb-3"},P=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-envelope"})])],-1),y={key:0,class:"erorrEmail"},k={key:1,class:"erorrEmail"},V={class:"input-group mb-3"},A=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-lock"})])],-1),z={key:2,class:"erorrPass"},C={class:"input-group mb-3"},B=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-lock"})])],-1),N={key:3,class:"erorrPass"},T={class:"row"},U={class:"col-12"},Z={data(){return{errorEmail:!0,emailResult:!1,passResult:!1,passwordError:"",passValid:!1,rePass:"",rePassErorr:!1,trueReg:!1}},mounted(){this.globalStore=m()},computed:{globalStore(){return m()},userAuth(){return this.globalStore.userAuth}},watch:{userAuth(u){u!==null&&!this.globalStore.admin&&this.$router.push("/profile")}},methods:{validPass(){if(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.globalStore.email)?(this.errorEmail=!0,this.emailResult=!0):this.errorEmail=!1,/[а-яА-ЯЁё]/.test(this.globalStore.password)){this.passwordError="Пароль не должен содержать русские буквы",this.passValid=!0,this.passResult=!1;return}if(this.globalStore.password.length<6){this.passwordError="Пароль должен содержать не менее 6 символов",this.passValid=!0,this.passResult=!1;return}this.passResult=!0,this.passValid=!1,this.passwordError=""},register(){this.validPass(),this.globalStore.password!==this.rePass?(this.rePassErorr=!0,this.passResult=!1):this.rePassErorr=!1,this.emailResult&&this.passResult&&(this.globalStore.register(),this.globalStore.usedEmail=!1,setTimeout(this.sent,1e3))},sent(){this.globalStore.usedEmail?this.trueReg=!1:(this.trueReg=!0,this.globalStore.usedEmail=!1,this.rePass="",this.emailResult=!1,this.passResult=!1)}}},L=Object.assign(Z,{__name:"Register",setup(u){const a=c();return(e,r)=>(o(),i("div",b,[s("div",_,[E,s("div",v,[s("div",S,[s("p",R,l(n(a).lang=="0"?"Регистрация нового пользователя":"Реєстрація нового користувача"),1),s("div",null,[s("div",w,[p(s("input",{"onUpdate:modelValue":r[0]||(r[0]=t=>e.globalStore.email=t),class:g([{error:!e.errorEmail},"form-control email"]),type:"email",placeholder:"Email"},null,2),[[h,e.globalStore.email]]),P]),e.errorEmail?d("",!0):(o(),i("h3",y,l(n(a).lang=="0"?"Не допустимый email":"Не припустимий email"),1)),e.globalStore.usedEmail?(o(),i("h3",k,l(n(a).lang=="0"?"Email уже используется":"Email вже використовується"),1)):d("",!0),s("div",V,[p(s("input",{"onUpdate:modelValue":r[1]||(r[1]=t=>e.globalStore.password=t),class:g([{error:e.passValid},"form-control pass"]),type:"password",placeholder:"Password"},null,2),[[h,e.globalStore.password]]),A]),e.passwordError?(o(),i("h3",z,l(e.passwordError),1)):d("",!0),s("div",C,[p(s("input",{"onUpdate:modelValue":r[2]||(r[2]=t=>e.rePass=t),class:g([{error:e.rePassErorr},"form-control rePass"]),type:"password",placeholder:"Retype password"},null,2),[[h,e.rePass]]),B]),e.rePassErorr?(o(),i("h3",N,l(n(a).lang=="0"?"Пароли не сходяться":"Паролі не співпадають"),1)):d("",!0),s("div",T,[s("div",U,[s("button",{onClick:r[3]||(r[3]=(...t)=>e.register&&e.register(...t)),type:"submit",class:"btn btn-primary btn-block"},l(n(a).lang=="0"?"Регистрация":"Реєстрація"),1)])])])])])])]))}});export{L as default};
