import{d as I,f as M,l as U,C as R,q as X,e as m,x as b,r as j,o as a,g as n,h as e,y as x,z as k,F as _,k as h,u as c,m as w,D as z,t as r,i as E,j as L,p as O}from"./index-98a4bf8f.js";const T={class:"info"},Y={class:"container"},G={class:"sorted pt-5",style:{"background-color":"white"}},H={class:"one"},J=e("h2",null,"Отображать только",-1),K={class:"flex",style:{display:"flex","align-items":"center",gap:"20px"}},P=z('<div class="content" style="display:flex;align-items:center;"><label style="margin:0;" for="2D">2D</label><input id="2D" type="checkbox"></div><div class="content" style="display:flex;align-items:center;"><label style="margin:0;" for="3D">3D</label><input id="3D" type="checkbox"></div><div class="content" style="display:flex;align-items:center;"><label style="margin:0;" for="IMAX">Imax</label><input id="IMAX" type="checkbox"></div>',3),Q={class:"date",style:{display:"flex","align-items":"center",gap:"20px"}},W=e("label",{style:{margin:"0"},for:"date"},"Дата",-1),Z=e("option",{value:"0"},"Все даты",-1),ee=["value"],te={class:"teatr",style:{display:"flex","align-items":"center",gap:"20px"}},se=e("label",{style:{margin:"0"},for:"date"},"Кинотеатры",-1),le=e("option",{value:"0"},"Все кинотеатры",-1),ae=["value"],ne={class:"film",style:{display:"flex","align-items":"center",gap:"20px"}},ie=e("label",{style:{margin:"0"},for:"date"},"Фильмы",-1),oe=e("option",{value:"0"},"Все фильмы",-1),re=["value"],de={class:"two pt-5"},ue={class:"card mt-5"},ce={class:"table-responsive mt-3"},fe={class:"table table-striped table-bordered table-hover"},me=e("tr",null,[e("td",null,"Время"),e("td",null,"Фильм"),e("td",null,"Кинотеатр"),e("td",null,"Цена в Грн"),e("td",null,"Бронировать")],-1),_e=e("td",null,[e("button",{class:"btn btn-block btn-success"},"Бронировать")],-1),he={key:0},pe=e("td",null,"К сожалению совпадений не найдено, простите нас :(",-1),ve=[pe],ye={key:0,class:"non"},ge=e("div",{class:"table-responsive mt-3"},[e("table",{class:"table table-striped table-bordered table-hover"},[e("tbody",null,[e("tr",null,[e("td",null,"К сожалению совпадений не найдено, простите нас :(")])])])],-1),be=[ge],De={__name:"Rasspisanie",setup(xe){const f=I(),A=M();U();const F=R();X();function D(l){if(l){const s=new Date(l),o=s.getDate(),t=s.getMonth()+1,i=s.getFullYear(),g=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],q=s.getDay(),$=g[q];return`${o<10?"0"+o:o}.${t<10?"0"+t:t}.${i} ${$}`}return""}const C=m(()=>f.afisha.map(t=>t.afisha).flat().map(t=>t.film).filter((t,i,g)=>g.indexOf(t)===i));function v(l){return A.film.find(s=>s.name===l)}const d=b("0");function V(l){return l.filter(s=>u.value==="0"?!0:s.teatr===u.value.toString()).filter(s=>d.value==="0"?!0:s.film===d.value).sort((s,o)=>{const t=s.time.split(":"),i=o.time.split(":");return t[0]-i[0]||t[1]-i[1]})}const p=b("0"),u=b("0"),B=m(()=>[...new Set(f.afisha.map(l=>l.date))]),N=m(()=>[...new Set(F.teaters.map(l=>l.title))]);f.afisha.map(l=>l.afisha);const y=m(()=>u.value==="0"&&d.value==="0"?f.afisha:f.afisha.filter(l=>l.afisha.filter(o=>(u.value==="0"||o.teatr===u.value.toString())&&(d.value==="0"||o.film===d.value.toString())).length>0)),S=m(()=>p.value==="0"?y.value:y.value.filter(l=>l.date===p.value));return(l,s)=>{const o=j("router-link");return a(),n("div",T,[e("div",Y,[e("div",G,[e("div",H,[J,e("div",K,[P,e("div",Q,[W,x(e("select",{name:"",id:"date","onUpdate:modelValue":s[0]||(s[0]=t=>p.value=t)},[Z,(a(!0),n(_,null,h(c(B),t=>(a(),n("option",{value:t},r(D(t)),9,ee))),256))],512),[[k,p.value]])]),e("div",te,[se,x(e("select",{name:"",id:"date","onUpdate:modelValue":s[1]||(s[1]=t=>u.value=t)},[le,(a(!0),n(_,null,h(c(N),t=>(a(),n("option",{value:t},r(t),9,ae))),256))],512),[[k,u.value]])]),e("div",ne,[ie,x(e("select",{name:"",id:"date","onUpdate:modelValue":s[2]||(s[2]=t=>d.value=t)},[oe,(a(!0),n(_,null,h(c(C),t=>(a(),n("option",{value:t,key:t},r(v(t).title),9,re))),128))],512),[[k,d.value]])])])]),e("div",de,[(a(!0),n(_,null,h(c(S),t=>(a(),n("div",ue,[e("h3",null,r(D(t.date)),1),e("div",ce,[e("table",fe,[e("tbody",null,[me,(a(!0),n(_,null,h(V(t.afisha),i=>(a(),n("tr",null,[e("td",null,r(i.time),1),e("td",null,[E(o,{to:{path:`/user-film/${v(i.film).name}`}},{default:L(()=>[O(r(v(i.film).title),1)]),_:2},1032,["to"])]),e("td",null,r(i.teatr),1),e("td",null,r(i.price),1),_e]))),256)),c(y).length<1?(a(),n("tr",he,ve)):w("",!0)])])])]))),256)),c(S).length<1?(a(),n("div",ye,be)):w("",!0)])])])])}}};export{De as default};
