import{Q as b,_ as x,q as k,o as p,d as u,e,E as a,G as r,u as l,F as m,h as w,p as U,m as L}from"./index-cdf02b7c.js";const R=b({id:"news",state:()=>({date:"",title:"",description:"",ava:[],gallery:[],trailer:"",seo:{url:"",title:"",keyword:"",description:""}})});const i=_=>(U("data-v-0cdfa258"),_=_(),L(),_),S=i(()=>e("h2",null,"Создать новость",-1)),V={class:"news"},I={class:"date flex mt-3"},F=i(()=>e("label",{for:"data"},"Дата публикации",-1)),D={class:"name flex mt-3"},C=i(()=>e("label",{for:"name"},"Название новости",-1)),j={class:"text flex mt-3"},N=i(()=>e("label",{for:"text"},"Описание новости",-1)),O={class:"ava flex mt-3"},B=i(()=>e("p",null,"Главная картинка",-1)),E={class:"img"},G=["src"],P={class:"add"},T=i(()=>e("label",{for:"img-top-ua"},"Загрузити фото",-1)),q={class:"photo flex mt-3"},z=i(()=>e("p",null,"Галерея",-1)),M={class:"gallery"},Q=["onClick"],X=i(()=>e("span",null,"X",-1)),$=[X],A=["src"],H={class:"add"},J=i(()=>e("label",{for:"img-bottom"},"Загрузити фото",-1)),K={class:"trailer flex mt-3"},W=i(()=>e("label",{for:"trailer"},"Ссылка на видео",-1)),Y={class:"seo mt-5"},Z=i(()=>e("h3",null,"СЕО блок",-1)),ee={class:"block flex mt-3"},te=i(()=>e("label",{for:"url-seo"},"URL",-1)),se={class:"block flex mt-3"},oe=i(()=>e("label",{for:"title-seo"},"title",-1)),le={class:"block flex mt-3"},ie=i(()=>e("label",{for:"keyword-seo"},"keyword",-1)),ne={class:"block flex mt-3"},de=i(()=>e("label",{for:"description-seo"},"description",-1)),ae={class:"block-btn mt-5"},re={__name:"NewsStr",setup(_){const o=R(),h=k(new Date);h.value.setDate(h.value.getDate());function g(d){o.gallery.splice(d,1)}async function y(d){const s=d.target.files[0],t=new Image;await new Promise(n=>{t.onload=n,t.onerror=n,t.src=URL.createObjectURL(s)}),o.ava.splice(0,1,{id:0,name:"ava-"+Date.now(),image:s,url:URL.createObjectURL(s)})}async function v(d){const s=d.target.files;for(let t=0;t<s.length;t++){const n=s[t],c=new Image;await new Promise(f=>{c.onload=f,c.onerror=f,c.src=URL.createObjectURL(n)}),c.width>=1e3&&c.height>=190?o.gallery.push({id:o.gallery.length,image:n,name:"gallery-"+Date.now(),url:URL.createObjectURL(n)}):alert("Фото должно быть не меньше 1000 x 190 пикселей")}}return(d,s)=>(p(),u(m,null,[S,e("div",V,[e("div",I,[F,a(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>l(o).date=t),type:"date",id:"data"},null,512),[[r,l(o).date]])]),e("div",D,[C,a(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>l(o).title=t),style:{width:"50%"},type:"text",id:"name",placeholder:"Название новости"},null,512),[[r,l(o).title]])]),e("div",j,[N,a(e("textarea",{"onUpdate:modelValue":s[2]||(s[2]=t=>l(o).description=t),placeholder:"Описание новости",style:{width:"100%",height:"100px",resize:"none"},id:"text",cols:"30",rows:"10"},null,512),[[r,l(o).description]])]),e("div",O,[B,(p(!0),u(m,null,w(l(o).ava,(t,n)=>(p(),u("div",E,[e("img",{src:t.url,alt:""},null,8,G)]))),256)),e("div",P,[e("input",{onChange:s[3]||(s[3]=t=>y(t)),class:"img-top-input",id:"img-top-ua",ref:"fileInput",type:"file",accept:"image/* "},null,544),T])]),e("div",q,[z,(p(!0),u(m,null,w(l(o).gallery,(t,n)=>(p(),u("div",M,[e("div",{class:"close",onClick:c=>g(n)},$,8,Q),e("img",{src:t.url,alt:""},null,8,A)]))),256)),e("div",H,[e("input",{onChange:s[4]||(s[4]=t=>v(t)),class:"img-top-input",id:"img-bottom",ref:"fileInput",type:"file",accept:"image/* ",multiple:""},null,544),J])]),e("div",K,[W,a(e("input",{"onUpdate:modelValue":s[5]||(s[5]=t=>l(o).trailer=t),style:{width:"50%"},id:"trailer",type:"text",placeholder:"Ссылка на видео"},null,512),[[r,l(o).trailer]])]),e("div",Y,[Z,e("div",ee,[te,a(e("input",{style:{width:"50%"},"onUpdate:modelValue":s[6]||(s[6]=t=>l(o).seo.url=t),id:"url-seo",type:"text",placeholder:"URL"},null,512),[[r,l(o).seo.url]])]),e("div",se,[oe,a(e("input",{style:{width:"50%"},"onUpdate:modelValue":s[7]||(s[7]=t=>l(o).seo.title=t),id:"title-seo",type:"text",placeholder:"title"},null,512),[[r,l(o).seo.title]])]),e("div",le,[ie,a(e("input",{style:{width:"50%"},"onUpdate:modelValue":s[8]||(s[8]=t=>l(o).seo.keyword=t),id:"keyword-seo",type:"text",placeholder:"keyword"},null,512),[[r,l(o).seo.keyword]])]),e("div",ne,[de,a(e("input",{style:{width:"50%"},"onUpdate:modelValue":s[9]||(s[9]=t=>l(o).seo.description=t),id:"description-seo",type:"text",placeholder:"description"},null,512),[[r,l(o).seo.description]])])]),e("div",ae,[e("button",{onClick:s[10]||(s[10]=(...t)=>d.createFilms&&d.createFilms(...t)),class:"btn btn-block btn-success"},"Создать новость")])])],64))}},pe=x(re,[["__scopeId","data-v-0cdfa258"]]);export{pe as default};
