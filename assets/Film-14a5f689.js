import{_ as b,f as g,r as _,o as a,d,e,u as m,i as k,l as y,F as u,h as f,g as C,w,t as F,H as M,p as I,m as S}from"./index-5db9c668.js";const c=i=>(I("data-v-de4d669f"),i=i(),S(),i),$={class:"film-info"},B={class:"films"},L=["onClick"],x=c(()=>e("span",null,"X",-1)),N=[x],V={class:"img"},j=["src"],z={class:"title"},D={class:"modal-dialog",role:"document"},E={class:"modal-content"},H={class:"modal-header"},O=c(()=>e("h5",{class:"modal-title"},"Удалить фильм? ",-1)),X=c(()=>e("span",{"aria-hidden":"true"},"×",-1)),q=[X],A=c(()=>e("div",{class:"modal-body"}," Вы действительно хотите удалить этот фильм?? ",-1)),G={class:"modal-footer"},J={data(){return{showModal:!1,currentIndex:0}}},K=Object.assign(J,{__name:"Film",setup(i){const t=g();function h(s){if(t.film.length===1)return console.log("Cannot delete last item from array"),!1;const o=t.film.splice(s,1)[0];t.deleteFilms.push(o.nameFilms);for(let l=0;l<t.film.length;l++)t.film[l].id=l;t.deleteFilm(),console.log(s)}return(s,o)=>{const l=_("Loader"),p=_("router-link");return a(),d("div",$,[e("div",B,[m(t).loading?(a(),k(l,{key:0})):y("",!0),(a(!0),d(u,null,f(m(t).film,(r,v)=>(a(),d("div",{class:"cards",key:r.id},[e("div",{onClick:n=>{s.showModal=!0,s.currentIndex=v},class:"close","data-bs-target":"#exampleModal"},N,8,L),C(p,{to:{path:`/admin/film-str/${r.nameFilms}`}},{default:w(()=>[(a(!0),d(u,null,f(r.ava,n=>(a(),d("div",V,[e("img",{src:n.url,alt:""},null,8,j)]))),256)),e("div",z,[e("h4",null,F(r.title),1)])]),_:2},1032,["to"]),e("div",{class:M(["modal fade show",{"d-block":s.showModal}]),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[e("div",D,[e("div",E,[e("div",H,[O,e("button",{type:"button",class:"close",onClick:o[0]||(o[0]=n=>s.showModal=!1)},q)]),A,e("div",G,[e("button",{type:"button",class:"btn btn-secondary",onClick:o[1]||(o[1]=n=>s.showModal=!1)},"Отмена"),e("button",{type:"button",class:"btn btn-danger",onClick:o[2]||(o[2]=n=>{h(s.currentIndex),s.showModal=!1})},"Да")])])])],2)]))),128))])])}}}),Q=b(K,[["__scopeId","data-v-de4d669f"]]);export{Q as default};
