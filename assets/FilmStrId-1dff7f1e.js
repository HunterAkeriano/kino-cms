import{f as U,j as L,k as V,r as R,o as c,d as m,u as t,i as I,l as f,e,E as d,G as p,F as h,h as y,N as _}from"./index-bdf34df8.js";const C={class:"content"},D=e("h2",null,"Редактирования фильма",-1),F={key:1,class:"block-info mt-5"},j={class:"title flex mt-3"},M=e("label",{for:"title"},"Название фильма",-1),S={class:"desctiption flex mt-3"},B=e("label",{for:"desctiption"},"Описание",-1),O={class:"ava flex mt-3"},T=e("p",null,"Главная картинка",-1),E={class:"img"},G=["src"],N={class:"add"},P=e("label",{for:"img-top"},"Загрузить фото",-1),$={class:"photo flex mt-3"},z=e("p",null,"Галерея",-1),X={class:"gallery"},q=["onClick"],A=e("span",null,"X",-1),H=[A],J=["src"],K=e("div",{class:"info-delete"},null,-1),Q={class:"add"},W=e("label",{for:"img-bottom"},"Загрузить фото",-1),Y={class:"trailer flex mt-3"},Z=e("label",{for:"trailer"},"Ссылка на трейлер",-1),ee={class:"type flex mt-3"},te=e("p",null,"Тип фильма",-1),le={class:"one"},oe=e("label",{for:"2D"},"2D",-1),ie={class:"one"},se=e("label",{for:"3D"},"3D",-1),ne={class:"one"},de=e("label",{for:"IMax"},"IMax",-1),ae={key:2,class:"seo mt-5"},re=e("h3",null,"СЕО блок",-1),ce={class:"block flex mt-3"},me=e("label",{for:"url-seo"},"URL",-1),pe={class:"block flex mt-3"},ue=e("label",{for:"title-seo"},"title",-1),fe={class:"block flex mt-3"},_e=e("label",{for:"keyword-seo"},"keyword",-1),he={class:"block flex mt-3"},ye=e("label",{for:"description-seo"},"description",-1),be={class:"block-btn mt-5"},xe={__name:"FilmStrId",setup(ve){const l=U(),b=L();let s=null;V(()=>{s=l.film.findIndex(n=>n.nameFilms===b.params.id)});function v(){l.film=[],l.getFilms(),window.scrollTo({top:0,behavior:"smooth"})}function g(n){l.reversed=n,l.newFilms(),window.scrollTo({top:0,behavior:"smooth"})}function x(n){l.deleteGallery.push(l.film[s].gallery[n].name),l.film[s].gallery.splice(n,1)}async function w(n){const i=n.target.files[0],a=new Image;await new Promise(o=>{a.onload=o,a.onerror=o,a.src=URL.createObjectURL(i)}),l.film[s].ava.splice(0,1,{id:0,name:"ava-"+Date.now(),image:i,url:URL.createObjectURL(i)})}async function k(n){const i=n.target.files;for(let a=0;a<i.length;a++){const o=i[a],r=new Image;await new Promise(u=>{r.onload=u,r.onerror=u,r.src=URL.createObjectURL(o)}),r.width>=1e3&&r.height>=190?l.film[s].gallery.push({id:l.film[s].gallery.length,name:"gallery-"+Date.now(),url:"",image:o,url:URL.createObjectURL(o)}):alert("Фото должно быть не меньше 1000 x 190 пикселей")}}return(n,i)=>{const a=R("Loader");return c(),m("div",C,[t(l).loading?(c(),I(a,{key:0})):f("",!0),D,t(l).film[t(s)]?(c(),m("div",F,[e("div",j,[M,d(e("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>t(l).film[t(s)].title=o),style:{width:"50%"},id:"title",type:"text",placeholder:"Название фильма"},null,512),[[p,t(l).film[t(s)].title]])]),e("div",S,[B,d(e("textarea",{"onUpdate:modelValue":i[1]||(i[1]=o=>t(l).film[t(s)].description=o),placeholder:"Описание фильма",style:{width:"100%",height:"100px",resize:"none"},id:"desctiption",cols:"30",rows:"10"},null,512),[[p,t(l).film[t(s)].description]])]),e("div",O,[T,(c(!0),m(h,null,y(t(l).film[t(s)].ava,(o,r)=>(c(),m("div",E,[e("img",{src:o.url,alt:""},null,8,G)]))),256)),e("div",N,[e("input",{onChange:i[2]||(i[2]=o=>w(o)),class:"img-top-input",id:"img-top",ref:"fileInput",type:"file",accept:"image/* "},null,544),P])]),e("div",$,[z,(c(!0),m(h,null,y(t(l).film[t(s)].gallery,(o,r)=>(c(),m("div",X,[e("div",{class:"close",onClick:u=>x(r)},H,8,q),e("img",{src:o.url,alt:""},null,8,J)]))),256)),K,e("div",Q,[e("input",{onChange:i[3]||(i[3]=o=>k(o)),class:"img-top-input",id:"img-bottom",ref:"fileInput",type:"file",accept:"image/* ",multiple:""},null,544),W])]),e("div",Y,[Z,d(e("input",{"onUpdate:modelValue":i[4]||(i[4]=o=>t(l).film[t(s)].trailer=o),style:{width:"50%"},id:"trailer",type:"text",placeholder:"Ссылка на трейлер"},null,512),[[p,t(l).film[t(s)].trailer]])]),e("div",ee,[te,e("div",le,[oe,d(e("input",{"onUpdate:modelValue":i[5]||(i[5]=o=>t(l).film[t(s)].type.filmtwo=o),id:"2D",type:"checkbox"},null,512),[[_,t(l).film[t(s)].type.filmtwo]])]),e("div",ie,[se,d(e("input",{"onUpdate:modelValue":i[6]||(i[6]=o=>t(l).film[t(s)].type.filmthre=o),id:"3D",type:"checkbox"},null,512),[[_,t(l).film[t(s)].type.filmthre]])]),e("div",ne,[de,d(e("input",{"onUpdate:modelValue":i[7]||(i[7]=o=>t(l).film[t(s)].type.imax=o),id:"IMax",type:"checkbox"},null,512),[[_,t(l).film[t(s)].type.imax]])])])])):f("",!0),t(l).film[t(s)]?(c(),m("div",ae,[re,e("div",ce,[me,d(e("input",{style:{width:"50%"},"onUpdate:modelValue":i[8]||(i[8]=o=>t(l).film[t(s)].seo.url=o),id:"url-seo",type:"text",placeholder:"URL"},null,512),[[p,t(l).film[t(s)].seo.url]])]),e("div",pe,[ue,d(e("input",{style:{width:"50%"},"onUpdate:modelValue":i[9]||(i[9]=o=>t(l).film[t(s)].seo.title=o),id:"title-seo",type:"text",placeholder:"title"},null,512),[[p,t(l).film[t(s)].seo.title]])]),e("div",fe,[_e,d(e("input",{style:{width:"50%"},"onUpdate:modelValue":i[10]||(i[10]=o=>t(l).film[t(s)].seo.keyword=o),id:"keyword-seo",type:"text",placeholder:"keyword"},null,512),[[p,t(l).film[t(s)].seo.keyword]])]),e("div",he,[ye,d(e("input",{style:{width:"50%"},"onUpdate:modelValue":i[11]||(i[11]=o=>t(l).film[t(s)].seo.description=o),id:"description-seo",type:"text",placeholder:"description"},null,512),[[p,t(l).film[t(s)].seo.description]])])])):f("",!0),e("div",be,[e("button",{class:"btn btn-success",onClick:i[12]||(i[12]=o=>g(t(s)))},"Редактировать фильм"),e("button",{type:"button",class:"btn ml-5 btn-secondary",onClick:v},"Откат")])])}}};export{xe as default};
