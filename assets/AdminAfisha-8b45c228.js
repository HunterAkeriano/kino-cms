import{_ as Z,R as B,I as U,f as N,C as _,o as l,d as s,e as t,u as o,F as f,i as b,s as $,v as w,n as u,t as p,x as F,p as R,q}from"./index-6c885156.js";import{a as E}from"./afisha-509c70a9.js";const c=y=>(R("data-v-ce6171a7"),y=y(),q(),y),L=c(()=>t("h2",null,"Афиша",-1)),M={class:"table table-striped table-bordered table-hover"},j=c(()=>t("tr",null,[t("td",null,"Дата"),t("td",null,"Время/Кинотеатр/Зал/фильм"),t("td")],-1)),G=c(()=>t("td",null,[t("button",{class:"btn btn-block btn-success"},"Добавить фильм")],-1)),H=c(()=>t("td",null,[t("button",{class:"btn btn-block btn-danger"},"Удалить")],-1)),J={key:0,class:"date mt-5"},K=c(()=>t("h4",null,"Выберите дату",-1)),O={key:1,class:"date mt-5"},P=c(()=>t("h4",null,"Выберите кинотеатр и зал",-1)),Q={style:{display:"flex",gap:"40px"},class:"cinoteatr"},W=["onClick"],X={key:0,class:"zal"},Y={class:"flex",style:{display:"flex",gap:"20px"}},tt=["onClick"],et={key:2,class:"date mt-5"},lt=c(()=>t("h4",null,"Выберите фильм",-1)),st={class:"films"},at=["onClick"],nt={key:3,class:"date mt-5"},ot=c(()=>t("h4",null,"Установите время, цену и тип фильма",-1)),it={class:"time",style:{display:"flex",gap:"20px"}},ut=c(()=>t("label",{for:"time"},"Время",-1)),ct={class:"pay mt-3",style:{display:"flex",gap:"20px"}},dt=c(()=>t("label",{for:"pay"},"Цена",-1)),rt={class:"type mt-3",style:{display:"flex",gap:"20px"}},pt=c(()=>t("label",{for:"type"},"Тип показа",-1)),_t={name:"",id:"type"},vt={key:0,value:"0"},ft={key:1,value:"1"},mt={key:2,value:"1"},bt={__name:"AdminAfisha",setup(y){B();const k=U(),m=N(),e=E(),h=_(null),v=_(null),r=_(null),x=_(!1),C=_(!1),g=_(!1),A=_(!1);function I(d){h.value=d,v.value=null,e.selectTeatr=d,e.selectZal=null}function T(d){v.value=d,e.selectZal=d}function D(d){r.value=d,e.selectFilm=d}async function V(){e.teatr=k.teaters[e.selectTeatr].title,e.zal=k.teaters[e.selectTeatr].zal[e.selectZal].title,e.film=m.film[e.selectFilm],e.time=e.time,e.price=e.price,await e.createAfisha(),A.value=!1,r.value=null,v.value=null,h.value=null}return(d,n)=>(l(),s(f,null,[L,t("button",{onClick:n[0]||(n[0]=(...a)=>o(e).getAfisha&&o(e).getAfisha(...a))},"Получить"),t("table",M,[t("tbody",null,[j,(l(!0),s(f,null,b(o(e).afisha,a=>(l(),s("tr",null,[t("td",null,p(a.date),1),(l(!0),s(f,null,b(a.afisha,i=>(l(),s("td",null,p(i.time)+", "+p(i.teatr)+", "+p(i.zal)+", "+p(i.film.title),1))),256)),G,H]))),256))])]),t("button",{class:"btn btn-block btn-success",onClick:n[1]||(n[1]=a=>x.value=!0)},"Добавить Афишу"),x.value?(l(),s("div",J,[K,$(t("input",{type:"date","onUpdate:modelValue":n[2]||(n[2]=a=>o(e).date=a)},null,512),[[w,o(e).date]]),o(e).date?(l(),s("button",{key:0,onClick:n[3]||(n[3]=a=>{x.value=!1,C.value=!0}),class:"mt-3 btn btn-block btn-success"},"Далее")):u("",!0)])):u("",!0),C.value?(l(),s("div",O,[P,(l(!0),s(f,null,b(o(k).teaters,(a,i)=>(l(),s("div",Q,[t("p",{style:{width:"300px"},class:F(["p-style",{selected:h.value===i}]),onClick:z=>I(i)},p(a.title),11,W),h.value==i?(l(),s("div",X,[t("div",Y,[(l(!0),s(f,null,b(a.zal,(z,S)=>(l(),s("p",{class:F(["p-style",{selected:v.value===S}]),onClick:yt=>T(S),key:S},p(z.title),11,tt))),128))])])):u("",!0)]))),256)),v.value==0||v.value?(l(),s("button",{key:0,onClick:n[4]||(n[4]=a=>{C.value=!1,g.value=!0}),class:"mt-3 btn btn-block btn-success"},"Далее")):u("",!0)])):u("",!0),g.value?(l(),s("div",et,[lt,(l(!0),s(f,null,b(o(m).film,(a,i)=>(l(),s("div",st,[t("p",{class:F(["p-style",{selected:r.value===i}]),onClick:z=>D(i)},p(a.title),11,at)]))),256)),r.value==0||r.value?(l(),s("button",{key:0,onClick:n[5]||(n[5]=a=>{g.value=!1,A.value=!0}),class:"mt-3 btn btn-block btn-success"},"Создать ")):u("",!0)])):u("",!0),A.value?(l(),s("div",nt,[ot,t("div",it,[ut,$(t("input",{"onUpdate:modelValue":n[6]||(n[6]=a=>o(e).time=a),type:"time",id:"time"},null,512),[[w,o(e).time]])]),t("div",ct,[dt,$(t("input",{"onUpdate:modelValue":n[7]||(n[7]=a=>o(e).price=a),type:"text",id:"pay"},null,512),[[w,o(e).price]])]),t("div",rt,[pt,t("select",_t,[o(m).film[r.value].type.filmtwo?(l(),s("option",vt,"2D")):u("",!0),o(m).film[r.value].type.filmthre?(l(),s("option",ft,"3D")):u("",!0),o(m).film[r.value].type.imax?(l(),s("option",mt,"Imax")):u("",!0)])]),t("button",{onClick:V,class:"mt-3 btn btn-block btn-success"},"Создать запись")])):u("",!0)],64))}},xt=Z(bt,[["__scopeId","data-v-ce6171a7"]]);export{xt as default};
