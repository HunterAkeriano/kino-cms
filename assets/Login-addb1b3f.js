import{l as b,w as f,r as v,o as l,g as r,m as u,h as s,t as e,u as i,y as h,H as c,G as p,i as E,j as S,p as k,I as g}from"./index-882b7a9b.js";const y={class:"block"},w={key:0,class:"eror"},C=s("h2",null,"Не известная ошибка, попробуйте позже",-1),P=[C],V={class:"login-box mt-5"},N=s("div",{class:"login-logo"},[s("a",null,[s("b",null,"Kino"),k("CMS")])],-1),A={class:"card"},L={class:"card-body login-card-body"},M={class:"login-box-msg"},R={class:"input-group mb-3"},I=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-envelope"})])],-1),K={key:0,class:"emailWrong"},O={key:1,class:"emailWrong"},z={class:"input-group mb-3"},W=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-lock"})])],-1),B={key:2,class:"passWrong"},T={key:3,class:"passWrong"},Z={class:"row"},j={class:"col-6"},D={class:"col-6"},U={class:"btn btn-block btn-success"},$={data(){return{errorEmail:!0,trueEmail:!1,passValid:!1,passwordError:"",passResult:!1}},methods:{validPass(){if(/[а-яА-ЯЁё]/.test(this.globalStore.authPass)){this.passwordError="Пароль не должен содержать русские буквы",this.passValid=!0;return}if(this.globalStore.authPass.length<6){this.passwordError="Пароль должен содержать не менее 6 символов",this.passValid=!0;return}this.passValid=!1,this.passResult=!0,this.passwordError=""},validateEmail(){/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.globalStore.authEmail)?(this.errorEmail=!0,this.trueEmail=!0):this.errorEmail=!1},login(){this.validateEmail(),this.validPass(),this.trueEmail&&this.passResult&&(this.globalStore.notLogin=!1,this.globalStore.errorPass=!1,this.passResult=!1,this.trueEmail=!1,this.globalStore.defaultError=!1,this.globalStore.login())}},mounted(){this.globalStore=g()},computed:{globalStore(){return g()},userAuth(){return this.globalStore.userAuth}},watch:{userAuth(d){d!==null&&this.$router.push("/profile")}}},H=Object.assign($,{__name:"Login",setup(d){const o=b();function m(){o.lang=="0"?document.title="KINO-CMS | Логин":document.title="KINO-CMS | Логін"}return m(),f(()=>o.lang,t=>{t=="0"&&(document.title="KINO-CMS | Логин"),t=="1"&&(document.title="KINO-CMS | Логін")}),(t,a)=>{const _=v("router-link");return l(),r("div",y,[t.globalStore.defaultError?(l(),r("div",w,P)):u("",!0),s("div",V,[N,s("div",A,[s("div",L,[s("p",M,e(i(o).lang=="0"?"Авторизация":"Авторизація"),1),s("div",null,[s("div",R,[h(s("input",{"onUpdate:modelValue":a[0]||(a[0]=n=>t.globalStore.authEmail=n),class:p([{error:!t.errorEmail},"form-control email"]),type:"email",placeholder:"Email"},null,2),[[c,t.globalStore.authEmail]]),I]),t.errorEmail?u("",!0):(l(),r("h3",K,e(i(o).lang=="0"?"Не допустимый email":"Не припустимий email"),1)),t.globalStore.notLogin?(l(),r("h3",O,e(i(o).lang=="0"?"Данного аккаунта нет":"Даного аккаунту не має"),1)):u("",!0),s("div",z,[h(s("input",{"onUpdate:modelValue":a[1]||(a[1]=n=>t.globalStore.authPass=n),class:p([{eror:t.passValid},"form-control pass"]),type:"password",placeholder:"Password"},null,2),[[c,t.globalStore.authPass]]),W]),t.passwordError?(l(),r("h3",B,e(t.passwordError),1)):u("",!0),t.globalStore.errorPass?(l(),r("h3",T,e(i(o).lang=="0"?"Пароль не верный":"Пароль не правильний"),1)):u("",!0),s("div",Z,[s("div",j,[s("button",{onClick:a[2]||(a[2]=(...n)=>t.login&&t.login(...n)),class:"btn btn-primary btn-block"},e(i(o).lang=="0"?"Логин":"Авторизація"),1)]),s("div",D,[E(_,{to:"/register"},{default:S(()=>[s("button",U,e(i(o).lang=="0"?"Регистрация":"Реєстрація"),1)]),_:1})])])])])])])])}}});export{H as default};
