import{_ as R,S as x,r as y,o as r,d as c,u as n,j as M,n as S,e,t as p,s as g,P as j,v as b,F as _,i as f,g as D,h as V,y as O,x as z,p as F,q as B}from"./index-2747099b.js";import{t as N}from"./teatr-6e714cf1.js";const a=m=>(F("data-v-3286fbef"),m=m(),B(),m),P={class:"content"},T={class:"language",style:{display:"flex","align-items":"center",gap:"20px"}},Z={style:{margin:"0"}},A=a(()=>e("option",{value:"0"},"Ru",-1)),q=a(()=>e("option",{value:"1"},"UA",-1)),E=[A,q],G={class:"rus"},X={class:"title flex mt-3"},H=a(()=>e("label",{style:{margin:"0"},for:"title"},"Название кинотеатра",-1)),J={class:"desctiption flex mt-3"},K=a(()=>e("label",{for:"desctiption"},"Описание",-1)),Q={class:"desctiption flex mt-3"},W=a(()=>e("label",{for:"desctiption"},"Условие",-1)),Y={class:"ava flex mt-3"},ee=a(()=>e("p",null,"Логотип",-1)),te={style:{width:"200px",height:"200px"},class:"img"},se=["src"],oe={class:"add"},le=a(()=>e("label",{for:"img-top"},"Загрузить фото",-1)),ae={class:"ava flex mt-3"},ne=a(()=>e("p",null,"Главная картинка",-1)),ie={style:{width:"500px",height:"300px"},class:"img"},de=["src"],re={class:"add"},ce=a(()=>e("label",{for:"img-ava"},"Загрузить фото",-1)),ue={class:"photo flex mt-3"},pe=a(()=>e("p",null,"Галерея",-1)),_e={class:"gallery"},me=["onClick"],he=a(()=>e("span",null,"X",-1)),ge=[he],fe=["src"],be={class:"add"},ve=a(()=>e("label",{for:"img-bottom"},"Загрузить фото",-1)),ye={class:"zal mt-3"},we={class:"table-responsive mt-3"},ke={class:"table table-striped table-bordered table-hover"},Ce=a(()=>e("tr",null,[e("td",null,"Номер"),e("td",null,"Имя Зала"),e("td",null,"Дата создания ")],-1)),Ue=["onClick"],Ie={class:"modal-dialog",role:"document"},Le={class:"modal-content"},$e={class:"modal-header"},Re=a(()=>e("h5",{class:"modal-title"},"Вы уверенны что хотите удалить этот зал?",-1)),xe=a(()=>e("span",{"aria-hidden":"true"},"×",-1)),Me=[xe],Se=a(()=>e("div",{class:"modal-body"}," Вы уверенны что хотите удалить этот зал? ",-1)),je={class:"modal-footer"},De={data(){return{showModal:!1,currentIndex:0,stockIndex:0,deleteModal:!1}}},Ve=Object.assign(De,{__name:"CinID",setup(m){const v=x(),l=N();function w(){v.push("/admin/cinoteaters-zal")}async function k(){await l.createZalMenu(),v.push("/admin/cinoteaters")}async function C(){const s=event.target.files[0],t=new Image;await new Promise(i=>{t.onload=i,t.onerror=i,t.src=URL.createObjectURL(s)}),l.logo.splice(0,1,{id:0,name:"a-"+Date.now(),image:s,url:URL.createObjectURL(s)})}async function U(s){const t=s.target.files[0],i=new Image;await new Promise(u=>{i.onload=u,i.onerror=u,i.src=URL.createObjectURL(t)}),l.ava.splice(0,1,{id:0,name:"ava-"+Date.now(),image:t,url:URL.createObjectURL(t)})}function I(s){l.gallery.splice(s,1)}async function L(s){const t=s.target.files;for(let i=0;i<t.length;i++){const u=t[i],o=new Image;await new Promise(d=>{o.onload=d,o.onerror=d,o.src=URL.createObjectURL(u)}),o.width>=1e3&&o.height>=190?l.gallery.push({id:l.gallery.length,image:u,name:"gallery-"+Date.now(),url:URL.createObjectURL(u)}):alert("Фото должно быть не меньше 1000 x 190 пикселей")}}function $(s){l.createZal.splice(s,1)}return(s,t)=>{const i=y("Loader"),u=y("router-link");return r(),c(_,null,[n(l).loading?(r(),M(i,{key:0})):S("",!0),e("h2",null,p(n(l).language=="0"?"Создание Кинотеатра":"Створення Кінотеатру"),1),e("div",P,[e("div",T,[e("p",Z,p(n(l).language=="0"?"RUS":"UA"),1),g(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>n(l).language=o),name:"laguage",id:""},E,512),[[j,n(l).language]])]),e("div",G,[e("div",X,[H,g(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>n(l).teaters[s.$route.params.id].title=o),style:{width:"50%"},id:"title",type:"text",placeholder:"Название кинотеатра"},null,512),[[b,n(l).teaters[s.$route.params.id].title]])]),e("div",J,[K,g(e("textarea",{"onUpdate:modelValue":t[2]||(t[2]=o=>n(l).teaters[s.$route.params.id].description=o),placeholder:"Описание",style:{width:"100%",height:"100px",resize:"none"},id:"desctiption",cols:"30",rows:"10"},null,512),[[b,n(l).teaters[s.$route.params.id].description]])]),e("div",Q,[W,g(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=o=>n(l).teaters[s.$route.params.id].info=o),placeholder:"Условие",style:{width:"100%",height:"100px",resize:"none"},id:"desctiption",cols:"30",rows:"10"},null,512),[[b,n(l).teaters[s.$route.params.id].info]])]),e("div",Y,[ee,(r(!0),c(_,null,f(n(l).teaters[s.$route.params.id].logo,(o,d)=>(r(),c("div",te,[e("img",{style:{width:"100%",height:"100%"},src:o.url,alt:""},null,8,se)]))),256)),e("div",oe,[e("input",{onChange:t[4]||(t[4]=o=>C()),class:"img-top-input",id:"img-top",ref:"fileInput",type:"file",accept:"image/* "},null,544),le])]),e("div",ae,[ne,(r(!0),c(_,null,f(n(l).teaters[s.$route.params.id].ava,(o,d)=>(r(),c("div",ie,[e("img",{style:{width:"100%",height:"100%"},src:o.url,alt:""},null,8,de)]))),256)),e("div",re,[e("input",{onChange:t[5]||(t[5]=o=>U(o)),class:"img-top-input",id:"img-ava",ref:"fileInput",type:"file",accept:"image/* "},null,544),ce])]),e("div",ue,[pe,(r(!0),c(_,null,f(n(l).teaters[s.$route.params.id].gallery,(o,d)=>(r(),c("div",_e,[e("div",{class:"close",onClick:h=>I(d)},ge,8,me),e("img",{src:o.url,alt:""},null,8,fe)]))),256)),e("div",be,[e("input",{onChange:t[6]||(t[6]=o=>L(o)),class:"img-top-input",id:"img-bottom",ref:"fileInput",type:"file",accept:"image/* ",multiple:""},null,544),ve])]),e("div",ye,[e("div",we,[e("table",ke,[Ce,(r(!0),c(_,null,f(n(l).teaters[s.$route.params.id].zal,(o,d)=>(r(),c("tr",{key:d},[e("td",null,p(d+1),1),e("td",null,[D(u,{to:{path:`/admin/cinoteaters-cards/${d}`}},{default:V(()=>[O(p(o.title),1)]),_:2},1032,["to"])]),e("td",null,p(o.date),1),e("td",null,[e("button",{class:"btn btn-block btn-danger",onClick:h=>{s.stockIndex=d,s.deleteModal=!0}},"Удалить",8,Ue)]),e("div",{class:z(["modal fade show",{"d-block":s.deleteModal}]),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[e("div",Ie,[e("div",Le,[e("div",$e,[Re,e("button",{type:"button",class:"close",onClick:t[7]||(t[7]=h=>s.deleteModal=!1)},Me)]),Se,e("div",je,[e("button",{type:"button",class:"btn btn-secondary",onClick:t[8]||(t[8]=h=>s.deleteModal=!1)},"Отмена"),e("button",{type:"button",class:"btn btn-danger",onClick:t[9]||(t[9]=h=>{$(s.stockIndex),s.deleteModal=!1})},"Да")])])])],2)]))),128))])])]),e("button",{onClick:w},"Создать Зал")]),e("button",{class:"btn btn-block btn-success mt-3",onClick:k},"Создать кинотеатр")])],64)}}}),Fe=R(Ve,[["__scopeId","data-v-3286fbef"]]);export{Fe as default};
