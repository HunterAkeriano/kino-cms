import{_ as U,Q as L,j as I,k as R,r as V,o as p,d as _,u as t,i as N,l as f,e,E as r,P as S,G as u,F as h,h as y,p as C,m as j}from"./index-665805ba.js";const i=w=>(C("data-v-2b2da04d"),w=w(),j(),w),B={key:1,class:"block-one"},F={class:"rus"},O=i(()=>e("h2",null,"Редактировать новость",-1)),D={class:"news"},E={class:"status flex mt-3"},G=i(()=>e("label",{for:"status"},"Включить ли новость?",-1)),P={class:"date flex mt-3"},T=i(()=>e("label",{for:"data"},"Дата публикации",-1)),M={class:"name flex mt-3"},z=i(()=>e("label",{for:"name"},"Название новости",-1)),Q={class:"text flex mt-3"},X=i(()=>e("label",{for:"text"},"Описание новости",-1)),$={class:"ava flex mt-3"},q=i(()=>e("p",null,"Главная картинка",-1)),A={class:"img"},H=["src"],J={class:"add"},K=i(()=>e("label",{for:"img-top-ua"},"Загрузить фото",-1)),W={class:"photo flex mt-3"},Y=i(()=>e("p",null,"Галерея",-1)),Z={class:"gallery"},ee=["onClick"],te=i(()=>e("span",null,"X",-1)),se=[te],oe=["src"],le={class:"add"},ne=i(()=>e("label",{for:"img-bottom"},"Загрузить фото",-1)),ie={class:"trailer flex mt-3"},de=i(()=>e("label",{for:"trailer"},"Ссылка на видео",-1)),ae={class:"seo mt-5"},re=i(()=>e("h3",null,"СЕО блок",-1)),ce={class:"block flex mt-3"},ue=i(()=>e("label",{for:"url-seo"},"URL",-1)),pe={class:"block flex mt-3"},_e=i(()=>e("label",{for:"title-seo"},"title",-1)),we={class:"block flex mt-3"},me=i(()=>e("label",{for:"keyword-seo"},"keyword",-1)),he={class:"block flex mt-3"},fe=i(()=>e("label",{for:"description-seo"},"description",-1)),ye={__name:"NewsStrId",setup(w){const o=L(),b=I();let n=null;R(()=>{n=o.news.findIndex(d=>d.nameNews===b.params.id)});function g(){o.removeNews=n,o.newNews(),window.scrollTo({top:0,behavior:"smooth"})}function v(d){o.deleteGallery.push(o.news[n].gallery[d].name),o.news[n].gallery.splice(d,1)}async function x(d){const l=d.target.files[0],a=new Image;await new Promise(s=>{a.onload=s,a.onerror=s,a.src=URL.createObjectURL(l)}),o.news[n].ava.splice(0,1,{id:0,name:"ava-"+Date.now(),image:l,url:URL.createObjectURL(l)})}async function k(d){const l=d.target.files;for(let a=0;a<l.length;a++){const s=l[a],c=new Image;await new Promise(m=>{c.onload=m,c.onerror=m,c.src=URL.createObjectURL(s)}),c.width>=1e3&&c.height>=190?o.news[n].gallery.push({id:o.news[n].gallery.length,image:s,name:"gallery-"+Date.now(),url:URL.createObjectURL(s)}):alert("Фото должно быть не меньше 1000 x 190 пикселей")}}return(d,l)=>{const a=V("Loader");return p(),_(h,null,[t(o).loading?(p(),N(a,{key:0})):f("",!0),t(o).news[t(n)]?(p(),_("div",B,[e("div",F,[O,e("div",D,[e("div",E,[G,r(e("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>t(o).news[t(n)].status=s),type:"checkbox",id:"status"},null,512),[[S,t(o).news[t(n)].status]])]),e("div",P,[T,r(e("input",{"onUpdate:modelValue":l[1]||(l[1]=s=>t(o).news[t(n)].date=s),type:"date",id:"data"},null,512),[[u,t(o).news[t(n)].date]])]),e("div",M,[z,r(e("input",{"onUpdate:modelValue":l[2]||(l[2]=s=>t(o).news[t(n)].title=s),style:{width:"50%"},type:"text",id:"name",placeholder:"Название новости"},null,512),[[u,t(o).news[t(n)].title]])]),e("div",Q,[X,r(e("textarea",{"onUpdate:modelValue":l[3]||(l[3]=s=>t(o).news[t(n)].description=s),placeholder:"Описание новости",style:{width:"100%",height:"100px",resize:"none"},id:"text",cols:"30",rows:"10"},null,512),[[u,t(o).news[t(n)].description]])]),e("div",$,[q,(p(!0),_(h,null,y(t(o).news[t(n)].ava,(s,c)=>(p(),_("div",A,[e("img",{src:s.url,alt:""},null,8,H)]))),256)),e("div",J,[e("input",{onChange:l[4]||(l[4]=s=>x(s)),class:"img-top-input",id:"img-top-ua",ref:"fileInput",type:"file",accept:"image/* "},null,544),K])]),e("div",W,[Y,(p(!0),_(h,null,y(t(o).news[t(n)].gallery,(s,c)=>(p(),_("div",Z,[e("div",{class:"close",onClick:m=>v(c)},se,8,ee),e("img",{src:s.url,alt:""},null,8,oe)]))),256)),e("div",le,[e("input",{onChange:l[5]||(l[5]=s=>k(s)),class:"img-top-input",id:"img-bottom",ref:"fileInput",type:"file",accept:"image/* ",multiple:""},null,544),ne])]),e("div",ie,[de,r(e("input",{"onUpdate:modelValue":l[6]||(l[6]=s=>t(o).news[t(n)].trailer=s),style:{width:"50%"},id:"trailer",type:"text",placeholder:"Ссылка на видео"},null,512),[[u,t(o).news[t(n)].trailer]])]),e("div",ae,[re,e("div",ce,[ue,r(e("input",{style:{width:"50%"},"onUpdate:modelValue":l[7]||(l[7]=s=>t(o).news[t(n)].seo.url=s),id:"url-seo",type:"text",placeholder:"URL"},null,512),[[u,t(o).news[t(n)].seo.url]])]),e("div",pe,[_e,r(e("input",{style:{width:"50%"},"onUpdate:modelValue":l[8]||(l[8]=s=>t(o).news[t(n)].seo.title=s),id:"title-seo",type:"text",placeholder:"title"},null,512),[[u,t(o).news[t(n)].seo.title]])]),e("div",we,[me,r(e("input",{style:{width:"50%"},"onUpdate:modelValue":l[9]||(l[9]=s=>t(o).news[t(n)].seo.keyword=s),id:"keyword-seo",type:"text",placeholder:"keyword"},null,512),[[u,t(o).news[t(n)].seo.keyword]])]),e("div",he,[fe,r(e("input",{style:{width:"50%"},"onUpdate:modelValue":l[10]||(l[10]=s=>t(o).news[t(n)].seo.description=s),id:"description-seo",type:"text",placeholder:"description"},null,512),[[u,t(o).news[t(n)].seo.description]])])]),e("div",{class:"block-btn mt-5"},[e("button",{onClick:g,class:"btn btn-block btn-success"},"Редактировать новость")])])])])):f("",!0)],64)}}},ge=U(ye,[["__scopeId","data-v-2b2da04d"]]);export{ge as default};
