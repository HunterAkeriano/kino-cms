import{_ as S,x as L,L as B,K as P,V,r as v,o as u,g as _,u as k,n as D,m as w,h as t,i as b,j as h,F as y,k as F,p,t as i,G as f,A as N,B as j}from"./index-c13c7cc8.js";const s=r=>(N("data-v-0c28f0a0"),r=r(),j(),r),T=s(()=>t("h2",null,"Страницы",-1)),z={class:"table-responsive mt-3"},A={class:"table table-striped table-bordered table-hover"},E=s(()=>t("tr",null,[t("td",null,"Номер"),t("td",null,"Имя Страницы"),t("td",null,"Дата Создание"),t("td",null,"Состояние")],-1)),G=s(()=>t("td",null,"1",-1)),K=s(()=>t("td",{class:"text-success font-weight-bold"},null,-1)),O=s(()=>t("td",{class:"text-success font-weight-bold"},"Включено",-1)),R=s(()=>t("td",null,"2",-1)),Y=s(()=>t("td",{class:"text-success font-weight-bold"},null,-1)),q=s(()=>t("td",{class:"text-success font-weight-bold"},"Включено",-1)),H=s(()=>t("td",null,"3",-1)),J=s(()=>t("td",{class:"text-success font-weight-bold"},null,-1)),Q=s(()=>t("td",{class:"text-success font-weight-bold"},"Включено",-1)),U=["onClick"],W=["onClick"],X={class:"modal-dialog",role:"document"},Z={class:"modal-content"},tt={class:"modal-header"},et=s(()=>t("h5",{class:"modal-title"},"Изменение состояние страницы ",-1)),st=s(()=>t("span",{"aria-hidden":"true"},"×",-1)),ot=[st],lt=s(()=>t("div",{class:"modal-body"}," Изменить состояние данной страницы? ",-1)),nt={class:"modal-footer"},at={class:"modal-dialog",role:"document"},dt={class:"modal-content"},ct={class:"modal-header"},ut=s(()=>t("h5",{class:"modal-title"},"Вы уверенны что хотите удалить страницу?",-1)),it=s(()=>t("span",{"aria-hidden":"true"},"×",-1)),rt=[it],_t=s(()=>t("div",{class:"modal-body"}," Вы уверенны что хотите удалить эту страницу? ",-1)),bt={class:"modal-footer"},ht={key:0,class:"error-message"},pt={data(){return{showModal:!1,currentIndex:0,stockIndex:0,deleteModal:!1}}},ft=Object.assign(pt,{__name:"Pages",setup(r){const g=L(!1),a=B();P();const M=V();function C(e){a.statusIndex=e,a.newStatus()}function I(e){if(a.deleteIndex=e,a.pages.length===1)return g.value=!0,setTimeout(()=>{g.value=!1},2e3),!1;a.deleteStock()}function $(e){const o=new Date(e),c=o.getDate(),n=o.getMonth()+1,l=o.getFullYear();return`${c<10?"0"+c:c}-${n<10?"0"+n:n}-${l}`}function x(){M.push("pages-create")}return(e,o)=>{const c=v("Loader"),n=v("router-link");return u(),_(y,null,[k(a).loading?(u(),D(c,{key:0})):w("",!0),T,t("button",{onClick:x},"Создать страницу"),t("div",z,[t("table",A,[t("tbody",null,[E,t("tr",null,[G,t("td",null,[b(n,{to:"pages-bar"},{default:h(()=>[p(" Кафе-бар")]),_:1})]),K,O]),t("tr",null,[R,t("td",null,[b(n,{to:"pages-contact"},{default:h(()=>[p(" Контакты")]),_:1})]),Y,q]),t("tr",null,[H,t("td",null,[b(n,{to:"pages-info"},{default:h(()=>[p(" О Кинотеатре")]),_:1})]),J,Q]),(u(!0),_(y,null,F(k(a).pages,(l,m)=>(u(),_("tr",null,[t("td",null,i(m+4),1),t("td",null,[b(n,{to:{path:`/admin/pages-create/${l.namePages}`}},{default:h(()=>[p(i(l.title),1)]),_:2},1032,["to"])]),t("td",null,i($(l.date)),1),t("td",{class:f(["font-weight-bold",{"text-success":l.status,"text-danger":!l.status}])},i(l.status?"В проекте":"Остановлена"),3),t("td",null,[t("button",{class:f(["btn btn-block",{"btn-success":!l.status,"btn-danger":l.status}]),onClick:d=>{e.showModal=!0,e.currentIndex=m}},i(l.status?"Выключить":"Включить"),11,U)]),t("td",null,[t("button",{class:"btn btn-block btn-danger",onClick:d=>{e.stockIndex=m,e.deleteModal=!0}},"Удалить",8,W)]),t("div",{class:f(["modal fade show",{"d-block":e.showModal}]),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",X,[t("div",Z,[t("div",tt,[et,t("button",{type:"button",class:"close",onClick:o[0]||(o[0]=d=>e.showModal=!1)},ot)]),lt,t("div",nt,[t("button",{type:"button",class:"btn btn-secondary",onClick:o[1]||(o[1]=d=>e.showModal=!1)},"Отмена"),t("button",{type:"button",class:"btn btn-danger",onClick:o[2]||(o[2]=d=>{C(e.currentIndex),e.showModal=!1})},"Да")])])])],2),t("div",{class:f(["modal fade show",{"d-block":e.deleteModal}]),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",at,[t("div",dt,[t("div",ct,[ut,t("button",{type:"button",class:"close",onClick:o[3]||(o[3]=d=>e.deleteModal=!1)},rt)]),_t,t("div",bt,[t("button",{type:"button",class:"btn btn-secondary",onClick:o[4]||(o[4]=d=>e.deleteModal=!1)},"Отмена"),t("button",{type:"button",class:"btn btn-danger",onClick:o[5]||(o[5]=d=>{I(e.stockIndex),e.deleteModal=!1})},"Да")])])])],2)]))),256))])]),g.value?(u(),_("div",ht," Вы не можете удалить последнюю созданную страницу ")):w("",!0)])],64)}}}),mt=S(ft,[["__scopeId","data-v-0c28f0a0"]]);export{mt as default};
