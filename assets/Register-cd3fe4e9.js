import{A as c}from"./auth-b91fb5b3.js";import{_,r as g,o as l,c as a,a as s,b as p,d as f,w as b,e as i,f as n,v as d,n as u,t as v}from"./index-6a08da23.js";const E={data(){return{errorEmail:!0,emailResult:!1,passResult:!1,passwordError:"",passValid:!1,rePass:"",rePassErorr:!1,trueReg:!1}},mounted(){this.globalStore=c()},computed:{globalStore(){return c()}},methods:{validPass(){if(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.globalStore.email)?(this.errorEmail=!0,this.emailResult=!0):this.errorEmail=!1,/[а-яА-ЯЁё]/.test(this.globalStore.password)){this.passwordError="Пароль не должен содержать русские буквы",this.passValid=!0,this.passResult=!1;return}if(this.globalStore.password.length<6){this.passwordError="Пароль должен содержать не менее 6 символов",this.passValid=!0,this.passResult=!1;return}this.passResult=!0,this.passValid=!1,this.passwordError=""},register(){this.validPass(),this.globalStore.password!==this.rePass?(this.rePassErorr=!0,this.passResult=!1):this.rePassErorr=!1,this.emailResult&&this.passResult&&(this.globalStore.register(),this.globalStore.usedEmail=!1,setTimeout(this.sent,1e3))},sent(){this.globalStore.usedEmail?this.trueReg=!1:(this.trueReg=!0,this.globalStore.usedEmail=!1,this.globalStore.email="",this.globalStore.password="",this.rePass="",this.emailResult=!1,this.passResult=!1)}}},w={class:"block"},R={key:0,class:"yes"},S=s("h2",null,"Вы успешно зарегистрировались",-1),y={class:"register-box mt-5"},P=s("div",{class:"register-logo"},[s("a",{href:"../../index2.html"},[s("b",null,"Kino"),p("CMS")])],-1),x={class:"card"},k={class:"card-body register-card-body"},V=s("p",{class:"login-box-msg"},"Регистрация нового пользователя",-1),C={class:"input-group mb-3"},A=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-envelope"})])],-1),z={key:0,class:"erorrEmail"},N={key:1,class:"erorrEmail"},B={class:"input-group mb-3"},T=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-lock"})])],-1),U={key:2,class:"erorrPass"},Z={class:"input-group mb-3"},D=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-lock"})])],-1),L={key:3,class:"erorrPass"},M={class:"row"},K={class:"col-12"};function j(h,t,q,F,e,r){const m=g("router-link");return l(),a("div",w,[e.trueReg?(l(),a("div",R,[S,s("p",null,[p("По сколько вы успешно зарегистрировались - перейдите в "),f(m,{to:"/"},{default:b(()=>[p("авторизацию")]),_:1})])])):i("",!0),s("div",y,[P,s("div",x,[s("div",k,[V,s("div",null,[s("div",C,[n(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>r.globalStore.email=o),class:u([{error:!e.errorEmail},"form-control email"]),type:"email",placeholder:"Email"},null,2),[[d,r.globalStore.email]]),A]),e.errorEmail?i("",!0):(l(),a("h3",z,"Вы ввели неккоретный email")),r.globalStore.usedEmail?(l(),a("h3",N,"Email уже используется")):i("",!0),s("div",B,[n(s("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>r.globalStore.password=o),class:u([{error:e.passValid},"form-control pass"]),type:"password",placeholder:"Password"},null,2),[[d,r.globalStore.password]]),T]),e.passwordError?(l(),a("h3",U,v(e.passwordError),1)):i("",!0),s("div",Z,[n(s("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>e.rePass=o),class:u([{error:e.rePassErorr},"form-control rePass"]),type:"password",placeholder:"Retype password"},null,2),[[d,e.rePass]]),D]),e.rePassErorr?(l(),a("h3",L,"Пароли не сходяться")):i("",!0),s("div",M,[s("div",K,[s("button",{onClick:t[3]||(t[3]=(...o)=>r.register&&r.register(...o)),type:"submit",class:"btn btn-primary btn-block"},"Регистрация")])])])])])])])}const I=_(E,[["render",j]]);export{I as default};
