import{_ as x,C as L,G as P,E as B,S as D,r as m,o as i,d as _,u as f,j as F,n as v,e as t,F as g,i as N,g as y,h as k,t as c,y as w,x as b,p as V,q as j}from"./index-550377fa.js";const o=u=>(V("data-v-c82faa6e"),u=u(),j(),u),E=o(()=>t("h2",null,"Страницы",-1)),T={class:"table-responsive mt-3"},q={class:"table table-striped table-bordered table-hover"},z=o(()=>t("tr",null,[t("td",null,"Номер"),t("td",null,"Имя Страницы"),t("td",null,"Дата Создание"),t("td",null,"Состояние")],-1)),G=["onClick"],O=["onClick"],R={class:"modal-dialog",role:"document"},Y={class:"modal-content"},A={class:"modal-header"},H=o(()=>t("h5",{class:"modal-title"},"Изменение состояние страницы ",-1)),J=o(()=>t("span",{"aria-hidden":"true"},"×",-1)),K=[J],Q=o(()=>t("div",{class:"modal-body"}," Изменить состояние данной страницы? ",-1)),U={class:"modal-footer"},W={class:"modal-dialog",role:"document"},X={class:"modal-content"},Z={class:"modal-header"},tt=o(()=>t("h5",{class:"modal-title"},"Вы уверенны что хотите удалить страницу?",-1)),et=o(()=>t("span",{"aria-hidden":"true"},"×",-1)),st=[et],ot=o(()=>t("div",{class:"modal-body"}," Вы уверенны что хотите удалить эту страницу? ",-1)),at={class:"modal-footer"},lt={key:0,class:"error-message"},nt={class:"offical mt-3"},dt=o(()=>t("h2",null,"Статические страницы",-1)),rt={class:"table-responsive mt-3"},it={class:"table table-striped table-bordered table-hover"},ct=o(()=>t("tr",null,[t("td",null,"Номер"),t("td",null,"Имя Страницы"),t("td",null,"Состояние")],-1)),ut=o(()=>t("td",null,"1",-1)),_t=o(()=>t("td",{class:"text-success font-weight-bold"},"Включено",-1)),bt={data(){return{showModal:!1,currentIndex:0,stockIndex:0,deleteModal:!1}}},ht=Object.assign(bt,{__name:"Pages",setup(u){const h=L(!1),l=P();B();const C=D();function M(e){l.statusIndex=e,l.newStatus()}function I(e){if(l.deleteIndex=e,l.pages.length===1)return h.value=!0,setTimeout(()=>{h.value=!1},2e3),!1;l.deleteStock()}function $(e){const s=new Date(e),r=s.getDate(),d=s.getMonth()+1,a=s.getFullYear();return`${r<10?"0"+r:r}-${d<10?"0"+d:d}-${a}`}function S(){C.push("pages-create")}return(e,s)=>{const r=m("Loader"),d=m("router-link");return i(),_(g,null,[f(l).loading?(i(),F(r,{key:0})):v("",!0),E,t("button",{onClick:S},"Создать страницу"),t("div",T,[t("table",q,[t("tbody",null,[z,(i(!0),_(g,null,N(f(l).pages,(a,p)=>(i(),_("tr",null,[t("td",null,c(p+1),1),t("td",null,[y(d,{to:{path:`/admin/pages-create/${a.namePages}`}},{default:k(()=>[w(c(a.title),1)]),_:2},1032,["to"])]),t("td",null,c($(a.date)),1),t("td",{class:b(["font-weight-bold",{"text-success":a.status,"text-danger":!a.status}])},c(a.status?"В проекте":"Остановлена"),3),t("td",null,[t("button",{class:b(["btn btn-block",{"btn-success":!a.status,"btn-danger":a.status}]),onClick:n=>{e.showModal=!0,e.currentIndex=p}},c(a.status?"Выключить":"Включить"),11,G)]),t("td",null,[t("button",{class:"btn btn-block btn-danger",onClick:n=>{e.stockIndex=p,e.deleteModal=!0}},"Удалить",8,O)]),t("div",{class:b(["modal fade show",{"d-block":e.showModal}]),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",R,[t("div",Y,[t("div",A,[H,t("button",{type:"button",class:"close",onClick:s[0]||(s[0]=n=>e.showModal=!1)},K)]),Q,t("div",U,[t("button",{type:"button",class:"btn btn-secondary",onClick:s[1]||(s[1]=n=>e.showModal=!1)},"Отмена"),t("button",{type:"button",class:"btn btn-danger",onClick:s[2]||(s[2]=n=>{M(e.currentIndex),e.showModal=!1})},"Да")])])])],2),t("div",{class:b(["modal fade show",{"d-block":e.deleteModal}]),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",W,[t("div",X,[t("div",Z,[tt,t("button",{type:"button",class:"close",onClick:s[3]||(s[3]=n=>e.deleteModal=!1)},st)]),ot,t("div",at,[t("button",{type:"button",class:"btn btn-secondary",onClick:s[4]||(s[4]=n=>e.deleteModal=!1)},"Отмена"),t("button",{type:"button",class:"btn btn-danger",onClick:s[5]||(s[5]=n=>{I(e.stockIndex),e.deleteModal=!1})},"Да")])])])],2)]))),256))])]),h.value?(i(),_("div",lt," Вы не можете удалить последнюю акцию ")):v("",!0)]),t("div",nt,[dt,t("div",rt,[t("table",it,[ct,t("tr",null,[ut,t("td",null,[y(d,{to:"pages-bar"},{default:k(()=>[w(" Кафе-бар")]),_:1})]),_t])])])])],64)}}}),mt=x(ht,[["__scopeId","data-v-c82faa6e"]]);export{mt as default};
