import{d as b,f as x,l as g,C as w,q as $,s as C,v as D,o as d,g as u,h as t,u as o,t as c,F as h,k as p,m as B,E as N}from"./index-0cb6e541.js";const j={class:"rasspisanie"},S={class:"container"},E={key:0,class:"contet pt-5",style:{background:"white",display:"flex",gap:"40px","justify-content":"space-between",height:"1000px"}},F={class:"film",style:{"max-width":"300px",width:"100%"}},I={class:"card",style:{"max-width":"300px",width:"100%"}},O={class:"img",style:{"max-width":"300px",height:"400px",width:"100%"}},R=["src"],V={class:"title"},q={class:"info",style:{display:"flex","flex-basis":"100%",width:"100%","flex-direction":"column"}},L={class:"bar",style:{width:"100$"}},M=t("h2",null,"Информация о фильме",-1),P={class:"block"},Y={class:"zal mt-5",style:{width:"100%","padding-right":"10px"}},A={class:"ecran",style:{width:"70%",height:"5px","border-top":"1px solid black",margin:"0 auto"}},G=t("p",{style:{"text-align":"center"}},"Экран",-1),H={class:"zal"},J={class:"btn",style:{display:"flex","justify-content":"space-between",width:"60%",margin:"0 auto"}},K={style:{width:"50px",height:"40px"},class:"one"},Q=["onClick","disabled"],T={class:"up mt-5"},U=t("h5",null,"Стоимость услуги бронирования: 3грн за каждое место.",-1),Z={__name:"RasspisanieID",setup(W){const s=b(),m=x();g(),w();const v=$();function z(e){if(e){const a=new Date(e),n=a.getDate(),l=a.getMonth()+1,r=a.getFullYear();return`${n<10?"0"+n:n}.${l<10?"0"+l:l}.${r}`}return""}function f(e){return m.film.find(a=>a.name===e)}const i=C({value:null});D(()=>{i.value=s.zakaz.findIndex(e=>e.id==v.params.id)});function k(e){e.status==="2"?e.status="0":e.status="2"}function y(e){const a=s.zakaz[i.value];let n=0;for(const l of a.info)for(const r of l.one)r.status==="2"&&(r.status="1",n+=Number(s.zakaz[i.value].price));alert(`Цена к оплате: ${n}грн, не забудьте чек`),_(e),s.bronya()}function _(e){for(const a of s.afisha)for(const n of a.afisha)if(n.id===e)return s.id=a.name,a.name}return(e,a)=>(d(),u(h,null,[t("div",j,[t("div",S,[o(s).zakaz[i.value]?(d(),u("div",E,[t("div",F,[t("div",I,[t("div",O,[t("img",{style:{width:"100%",height:"100%"},src:f(o(s).zakaz[i.value].film).ava[0].url,alt:""},null,8,R)]),t("div",V,[t("h2",null,c(f(o(s).zakaz[i.value].film).title),1)])])]),t("div",q,[t("div",L,[M,t("div",P,[t("p",null,"Цена: "+c(o(s).zakaz[i.value].price)+"грн",1),t("p",null,"Дата сеанса: "+c(z(o(s).zakaz[i.value].date)),1),t("p",null,"Время сеанса: "+c(o(s).zakaz[i.value].time),1),t("p",null,"Кинотеатр: "+c(o(s).zakaz[i.value].teatr),1),t("p",null,"Зал: "+c(o(s).zakaz[i.value].zal),1)])]),t("div",Y,[t("div",A,[G,t("div",H,[(d(!0),u(h,null,p(o(s).zakaz[i.value].info,n=>(d(),u("div",J,[(d(!0),u(h,null,p(n.one,l=>(d(),u("div",K,[t("button",{class:N(["btn btn-block",{"btn-secondary":l.status==="0","btn-danger":l.status==="1","btn-success":l.status==="2"}]),onClick:r=>k(l),disabled:l.status==="1"},c(l.name),11,Q)]))),256))]))),256))]),t("div",T,[U,t("button",{onClick:a[0]||(a[0]=n=>y(o(s).zakaz[i.value].id))},"Забронировать")])])])])])):B("",!0)])]),t("p",{onClick:a[1]||(a[1]=n=>_(o(s).zakaz[i.value].id))},"Получить айди")],64))}};export{Z as default};
