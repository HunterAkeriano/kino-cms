import{V as c,W as d,X as m,Y as s,Z as n,$ as r,a0 as g,a1 as f}from"./index-951b41b4.js";const $=c({id:"teatr",state:()=>({loading:!1,language:"0",title:"",description:"",info:"",logo:[],ava:[],gallery:[],createZal:[],zal:{date:new Date().toLocaleString(),title:"",description:"",logo:[],ava:[],gallery:[]},teaters:[]}),actions:{async createZalMenu(){this.loading=!0;const l={nameTeatr:"teatr-"+Date.now(),title:this.title,description:this.description,info:this.info,zal:{...this.createZal.map(a=>({title:a.title,description:a.description}))}};await d(m(f,"teatr",`${l.nameTeatr}`),l);for(let a=0;a<this.logo.length;a++){const e=s(n,`teatr/${l.nameTeatr}/${this.logo[a].name}`);await r(e,this.logo[a].image);const t=await g(e);this.logo[a].url=t}for(let a=0;a<this.ava.length;a++){const e=s(n,`teatr/${l.nameTeatr}/${this.ava[a].name}`);await r(e,this.ava[a].image);const t=await g(e);this.ava[a].url=t}for(let a=0;a<this.gallery.length;a++){const e=s(n,`teatr/${l.nameTeatr}/${this.gallery[a].name}`);await r(e,this.gallery[a].image);const t=await g(e);this.gallery[a].url=t}for(let a=0;a<this.createZal.length;a++){const e=this.createZal[a];for(let t=0;t<e.logo.length;t++){const i=e.logo[t],o=s(n,`zal/${l.nameTeatr}/${a}/${i.name}`);await r(o,i.image);const h=await g(o);i.url=h}for(let t=0;t<e.ava.length;t++){const i=e.ava[t],o=s(n,`zal/${l.nameTeatr}/${a}/${i.name}`);await r(o,i.image);const h=await g(o);i.url=h}for(let t=0;t<e.gallery.length;t++){const i=e.gallery[t],o=s(n,`zal/${l.nameTeatr}/${a}/${i.name}`);await r(o,i.image);const h=await g(o);i.url=h}}this.teaters.push({title:this.title,info:this.info,description:this.description,logo:this.logo,ava:this.ava,gallery:this.gallery,zal:this.createZal}),this.title="",this.info="",this.description="",this.logo=[],this.ava=[],this.gallery=[],this.createZal=[],this.loading=!1}}});export{$ as t};
