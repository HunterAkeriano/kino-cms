import{V as f,W as w,X as d,Y as s,Z as i,$ as o,a0 as n,a1 as y,a2 as A,a3 as g}from"./index-71d99aab.js";const u=f({id:"teatr",state:()=>({loading:!1,language:"0",title:"",titleUA:"",description:"",descriptionUA:"",info:"",infoUA:"",logo:[],logoUA:[],ava:[],avaUA:[],gallery:[],galleryUA:[],createZal:[],createZalUA:[],zal:{date:new Date().toLocaleString(),title:"",description:"",logo:[],ava:[],gallery:[]},zalUA:{date:new Date().toLocaleString(),title:"",description:"",logo:[],ava:[],gallery:[]},teaters:[],teatersUA:[],resultTeater:[]}),actions:{async getTeatr(){(await w(d(g,"teatr"))).forEach(h=>{this.teaters.push(h.data())}),(await w(d(g,"teatrUA"))).forEach(h=>{this.teatersUA.push(h.data())})},async createZalMenu(){this.loading=!0;let c="teatr-"+Date.now();for(let a=0;a<this.logo.length;a++){const e=s(i,`teatr/${this.logo[a].name}`);await o(e,this.logo[a].image);const t=await n(e);this.logo[a].url=t,this.logo[a].image=null}for(let a=0;a<this.logoUA.length;a++){const e=s(i,`teatr/${this.logoUA[a].name}`);await o(e,this.logo[a].image);const t=await n(e);this.logoUA[a].url=t,this.logoUA[a].image=null}for(let a=0;a<this.ava.length;a++){const e=s(i,`teatr/${this.ava[a].name}`);await o(e,this.ava[a].image);const t=await n(e);this.ava[a].url=t,this.ava[a].image=null}for(let a=0;a<this.avaUA.length;a++){const e=s(i,`teatr/${this.avaUA[a].name}`);await o(e,this.ava[a].image);const t=await n(e);this.avaUA[a].url=t,this.avaUA[a].image=null}for(let a=0;a<this.gallery.length;a++){const e=s(i,`teatr/${this.gallery[a].name}`);await o(e,this.gallery[a].image);const t=await n(e);this.gallery[a].url=t,this.gallery[a].image=null}for(let a=0;a<this.galleryUA.length;a++){const e=s(i,`teatr/${this.galleryUA[a].name}`);await o(e,this.gallery[a].image);const t=await n(e);this.galleryUA[a].url=t,this.galleryUA[a].image=null}await Promise.all(this.createZal.map(async(a,e)=>{await Promise.all([...a.logo.map(async t=>{const l=s(i,`zal/${t.name}`);await o(l,t.image);const r=await n(l);t.url=r,t.image=null}),...a.ava.map(async t=>{const l=s(i,`zal/${t.name}`);await o(l,t.image);const r=await n(l);t.url=r,t.image=null}),...a.gallery.map(async t=>{const l=s(i,`zal/${t.name}`);await o(l,t.image);const r=await n(l);t.url=r,t.image=null})])})),await Promise.all(this.createZalUA.map(async(a,e)=>{await Promise.all([...a.logo.map(async t=>{const l=s(i,`zal/${t.name}`);await o(l,t.image);const r=await n(l);t.url=r,t.image=null}),...a.ava.map(async t=>{const l=s(i,`zal/${t.name}`);await o(l,t.image);const r=await n(l);t.url=r,t.image=null}),...a.gallery.map(async t=>{const l=s(i,`zal/${t.name}`);await o(l,t.image);const r=await n(l);t.url=r,t.image=null})])}));const U={title:this.title,description:this.description,info:this.info,logo:this.logo,ava:this.ava,gallery:this.gallery,zal:this.createZal},h={title:this.titleUA,description:this.descriptionUA,info:this.infoUA,logo:this.logoUA,ava:this.avaUA,gallery:this.galleryUA,zal:this.createZalUA};await y(A(g,"teatr",`${c}`),U),await y(A(g,"teatrUA",`${c}`),h),this.teaters.push(U),this.teatersUA.push(h),this.title="",this.info="",this.description="",this.logo=[],this.ava=[],this.gallery=[],this.createZal=[],this.loading=!1}}});export{u as t};
