import{M as w,f as k,v as U,r as F,o as r,d as p,u as s,i as I,l as _,e,E as i,G as c,F as h,h as f,N as u}from"./index-bdf34df8.js";const L={class:"content"},V=e("h2",null,"Создание фильма",-1),R={class:"block-info mt-5"},D={class:"title flex mt-3"},C=e("label",{for:"title"},"Название фильма",-1),M={class:"desctiption flex mt-3"},S=e("label",{for:"desctiption"},"Описание",-1),j={class:"ava flex mt-3"},B=e("p",null,"Главная картинка",-1),O={class:"img"},N=["src"],E={class:"add"},G=e("label",{for:"img-top"},"Загрузить фото",-1),P={class:"photo flex mt-3"},T=e("p",null,"Галерея",-1),z={class:"gallery"},X=["onClick"],$=e("span",null,"X",-1),q=[$],A=["src"],H={class:"add"},J=e("label",{for:"img-bottom"},"Загрузить фото",-1),K={class:"trailer flex mt-3"},Q=e("label",{for:"trailer"},"Ссылка на трейлер",-1),W={class:"type flex mt-3"},Y=e("p",null,"Тип фильма",-1),Z={class:"one"},ee=e("label",{for:"2D"},"2D",-1),te={class:"one"},le=e("label",{for:"3D"},"3D",-1),oe={class:"one"},se=e("label",{for:"IMax"},"IMax",-1),ie={class:"seo mt-5"},ne=e("h3",null,"СЕО блок",-1),de={class:"block flex mt-3"},ae=e("label",{for:"url-seo"},"URL",-1),re={class:"block flex mt-3"},ce=e("label",{for:"title-seo"},"title",-1),pe={class:"block flex mt-3"},me=e("label",{for:"keyword-seo"},"keyword",-1),ue={class:"block flex mt-3"},_e=e("label",{for:"description-seo"},"description",-1),he={class:"block-btn mt-5"},fe={key:0,style:{color:"red"}},be={__name:"FilmStr",setup(ye){const y=w(),t=k();function g(d){t.gallery.splice(d,1)}function b(){t.title.length<1||t.description.length<1||t.ava.length<1||t.gallery.length<1?t.loaderFilms=!0:(t.createFilm(),t.loaderFilms=!1)}U(()=>t.createFilms,d=>{d&&(y.push("/admin/films"),t.createFilms=!1)});async function v(d){const o=d.target.files[0],n=new Image;await new Promise(l=>{n.onload=l,n.onerror=l,n.src=URL.createObjectURL(o)}),t.ava.splice(0,1,{id:0,name:"ava-"+Date.now(),image:o,url:URL.createObjectURL(o)})}async function x(d){const o=d.target.files;for(let n=0;n<o.length;n++){const l=o[n],a=new Image;await new Promise(m=>{a.onload=m,a.onerror=m,a.src=URL.createObjectURL(l)}),a.width>=1e3&&a.height>=190?t.gallery.push({id:t.gallery.length,image:l,name:"gallery-"+Date.now(),url:URL.createObjectURL(l)}):alert("Фото должно быть не меньше 1000 x 190 пикселей")}}return(d,o)=>{const n=F("Loader");return r(),p("div",L,[s(t).loading?(r(),I(n,{key:0})):_("",!0),V,e("div",R,[e("div",D,[C,i(e("input",{"onUpdate:modelValue":o[0]||(o[0]=l=>s(t).title=l),style:{width:"50%"},id:"title",type:"text",placeholder:"Название фильма"},null,512),[[c,s(t).title]])]),e("div",M,[S,i(e("textarea",{"onUpdate:modelValue":o[1]||(o[1]=l=>s(t).description=l),placeholder:"Описание фильма",style:{width:"100%",height:"100px",resize:"none"},id:"desctiption",cols:"30",rows:"10"},null,512),[[c,s(t).description]])]),e("div",j,[B,(r(!0),p(h,null,f(s(t).ava,(l,a)=>(r(),p("div",O,[e("img",{src:l.url,alt:""},null,8,N)]))),256)),e("div",E,[e("input",{onChange:o[2]||(o[2]=l=>v(l)),class:"img-top-input",id:"img-top",ref:"fileInput",type:"file",accept:"image/* "},null,544),G])]),e("div",P,[T,(r(!0),p(h,null,f(s(t).gallery,(l,a)=>(r(),p("div",z,[e("div",{class:"close",onClick:m=>g(a)},q,8,X),e("img",{src:l.url,alt:""},null,8,A)]))),256)),e("div",H,[e("input",{onChange:o[3]||(o[3]=l=>x(l)),class:"img-top-input",id:"img-bottom",ref:"fileInput",type:"file",accept:"image/* ",multiple:""},null,544),J])]),e("div",K,[Q,i(e("input",{"onUpdate:modelValue":o[4]||(o[4]=l=>s(t).trailer=l),style:{width:"50%"},id:"trailer",type:"text",placeholder:"Ссылка на трейлер"},null,512),[[c,s(t).trailer]])]),e("div",W,[Y,e("div",Z,[ee,i(e("input",{"onUpdate:modelValue":o[5]||(o[5]=l=>s(t).selectedItems.filmtwo=l),id:"2D",type:"checkbox"},null,512),[[u,s(t).selectedItems.filmtwo]])]),e("div",te,[le,i(e("input",{"onUpdate:modelValue":o[6]||(o[6]=l=>s(t).selectedItems.filmthre=l),id:"3D",type:"checkbox"},null,512),[[u,s(t).selectedItems.filmthre]])]),e("div",oe,[se,i(e("input",{"onUpdate:modelValue":o[7]||(o[7]=l=>s(t).selectedItems.imax=l),id:"IMax",type:"checkbox"},null,512),[[u,s(t).selectedItems.imax]])])])]),e("div",ie,[ne,e("div",de,[ae,i(e("input",{style:{width:"50%"},"onUpdate:modelValue":o[8]||(o[8]=l=>s(t).seo.url=l),id:"url-seo",type:"text",placeholder:"URL"},null,512),[[c,s(t).seo.url]])]),e("div",re,[ce,i(e("input",{style:{width:"50%"},"onUpdate:modelValue":o[9]||(o[9]=l=>s(t).seo.title=l),id:"title-seo",type:"text",placeholder:"title"},null,512),[[c,s(t).seo.title]])]),e("div",pe,[me,i(e("input",{style:{width:"50%"},"onUpdate:modelValue":o[10]||(o[10]=l=>s(t).seo.keyword=l),id:"keyword-seo",type:"text",placeholder:"keyword"},null,512),[[c,s(t).seo.keyword]])]),e("div",ue,[_e,i(e("input",{style:{width:"50%"},"onUpdate:modelValue":o[11]||(o[11]=l=>s(t).seo.description=l),id:"description-seo",type:"text",placeholder:"description"},null,512),[[c,s(t).seo.description]])])]),e("div",he,[e("button",{onClick:b,class:"btn btn-block btn-success"},"Создать фильм"),s(t).loaderFilms?(r(),p("p",fe,"Вы не ввели информацию или не загрузили фото")):_("",!0)])])}}};export{be as default};
