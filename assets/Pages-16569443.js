import{_ as S,x as B,K as L,J as P,T as D,r as v,o as u,g as b,u as k,n as F,m as y,h as t,i as m,j as f,F as w,k as N,p as g,t as i,G as _,A as V,B as T}from"./index-98a4bf8f.js";const o=r=>(V("data-v-b44bd8b5"),r=r(),T(),r),j=o(()=>t("h2",null,"Страницы",-1)),z={class:"table-responsive mt-3"},A={class:"table table-striped table-bordered table-hover"},E=o(()=>t("tr",null,[t("td",null,"Номер"),t("td",null,"Имя Страницы"),t("td",null,"Дата Создание"),t("td",null,"Состояние")],-1)),G=o(()=>t("td",null,"1",-1)),J=o(()=>t("td",{class:"text-success font-weight-bold"},null,-1)),K=o(()=>t("td",{class:"text-success font-weight-bold"},"Включено",-1)),O=o(()=>t("td",null,"2",-1)),R=o(()=>t("td",{class:"text-success font-weight-bold"},null,-1)),Y=o(()=>t("td",{class:"text-success font-weight-bold"},"Включено",-1)),q=["onClick"],H=["onClick"],Q={class:"modal-dialog",role:"document"},U={class:"modal-content"},W={class:"modal-header"},X=o(()=>t("h5",{class:"modal-title"},"Изменение состояние страницы ",-1)),Z=o(()=>t("span",{"aria-hidden":"true"},"×",-1)),tt=[Z],et=o(()=>t("div",{class:"modal-body"}," Изменить состояние данной страницы? ",-1)),st={class:"modal-footer"},ot={class:"modal-dialog",role:"document"},at={class:"modal-content"},lt={class:"modal-header"},nt=o(()=>t("h5",{class:"modal-title"},"Вы уверенны что хотите удалить страницу?",-1)),dt=o(()=>t("span",{"aria-hidden":"true"},"×",-1)),ct=[dt],ut=o(()=>t("div",{class:"modal-body"}," Вы уверенны что хотите удалить эту страницу? ",-1)),it={class:"modal-footer"},rt={key:0,class:"error-message"},bt={data(){return{showModal:!1,currentIndex:0,stockIndex:0,deleteModal:!1}}},_t=Object.assign(bt,{__name:"Pages",setup(r){const h=B(!1),l=L();P();const M=D();function C(e){l.statusIndex=e,l.newStatus()}function I(e){if(l.deleteIndex=e,l.pages.length===1)return h.value=!0,setTimeout(()=>{h.value=!1},2e3),!1;l.deleteStock()}function $(e){const s=new Date(e),c=s.getDate(),n=s.getMonth()+1,a=s.getFullYear();return`${c<10?"0"+c:c}-${n<10?"0"+n:n}-${a}`}function x(){M.push("pages-create")}return(e,s)=>{const c=v("Loader"),n=v("router-link");return u(),b(w,null,[k(l).loading?(u(),F(c,{key:0})):y("",!0),j,t("button",{onClick:x},"Создать страницу"),t("div",z,[t("table",A,[t("tbody",null,[E,t("tr",null,[G,t("td",null,[m(n,{to:"pages-bar"},{default:f(()=>[g(" Кафе-бар")]),_:1})]),J,K]),t("tr",null,[O,t("td",null,[m(n,{to:"pages-contact"},{default:f(()=>[g(" Контакты")]),_:1})]),R,Y]),(u(!0),b(w,null,N(k(l).pages,(a,p)=>(u(),b("tr",null,[t("td",null,i(p+3),1),t("td",null,[m(n,{to:{path:`/admin/pages-create/${a.namePages}`}},{default:f(()=>[g(i(a.title),1)]),_:2},1032,["to"])]),t("td",null,i($(a.date)),1),t("td",{class:_(["font-weight-bold",{"text-success":a.status,"text-danger":!a.status}])},i(a.status?"В проекте":"Остановлена"),3),t("td",null,[t("button",{class:_(["btn btn-block",{"btn-success":!a.status,"btn-danger":a.status}]),onClick:d=>{e.showModal=!0,e.currentIndex=p}},i(a.status?"Выключить":"Включить"),11,q)]),t("td",null,[t("button",{class:"btn btn-block btn-danger",onClick:d=>{e.stockIndex=p,e.deleteModal=!0}},"Удалить",8,H)]),t("div",{class:_(["modal fade show",{"d-block":e.showModal}]),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",Q,[t("div",U,[t("div",W,[X,t("button",{type:"button",class:"close",onClick:s[0]||(s[0]=d=>e.showModal=!1)},tt)]),et,t("div",st,[t("button",{type:"button",class:"btn btn-secondary",onClick:s[1]||(s[1]=d=>e.showModal=!1)},"Отмена"),t("button",{type:"button",class:"btn btn-danger",onClick:s[2]||(s[2]=d=>{C(e.currentIndex),e.showModal=!1})},"Да")])])])],2),t("div",{class:_(["modal fade show",{"d-block":e.deleteModal}]),tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},[t("div",ot,[t("div",at,[t("div",lt,[nt,t("button",{type:"button",class:"close",onClick:s[3]||(s[3]=d=>e.deleteModal=!1)},ct)]),ut,t("div",it,[t("button",{type:"button",class:"btn btn-secondary",onClick:s[4]||(s[4]=d=>e.deleteModal=!1)},"Отмена"),t("button",{type:"button",class:"btn btn-danger",onClick:s[5]||(s[5]=d=>{I(e.stockIndex),e.deleteModal=!1})},"Да")])])])],2)]))),256))])]),h.value?(u(),b("div",rt," Вы не можете удалить последнюю акцию ")):y("",!0)])],64)}}}),pt=S(_t,[["__scopeId","data-v-b44bd8b5"]]);export{pt as default};
