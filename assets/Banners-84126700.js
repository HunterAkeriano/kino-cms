import{b as p}from"./banners-bb45f5c1.js";import{_ as u,o as c,c as d,b as e,F as h,k as b,p as m,h as g}from"./index-75be84c7.js";const v={data(){return{fileInput:null}},methods:{async onFileSelected(o){const t=o.target.files;for(let a=0;a<t.length;a++){const i=t[a],n=new Image;await new Promise(s=>{n.onload=s,n.onerror=s,n.src=URL.createObjectURL(i)}),n.width>=1e3&&n.height>=190?(this.globalStore.movieBanners.data.push({id:this.globalStore.movieBanners.data.length,name:"top-"+Date.now(),url:"",title:"",image:null}),this.globalStore.movieBanners.banners.push({id:this.globalStore.movieBanners.banners.length,uploaded:!1,image:i,url:URL.createObjectURL(i)})):alert("Фото должно быть не меньше 1000 x 190 пикселей")}}},mounted(){this.globalStore=p(),console.log(this.globalStore.movieBanners.banners)},computed:{globalStore(){return p()}}},l=o=>(m("data-v-833a0591"),o=o(),g(),o),f={class:"banners"},S={class:"banners__top"},B=l(()=>e("h2",{class:"banners__top-title"},"На главной верх",-1)),k={class:"block"},x=l(()=>e("h5",null,"Размер 1000 х 190",-1)),y={class:"content"},I={class:"images"},w=["onClick"],L=l(()=>e("span",null,"X",-1)),R=[L],U=["src"],C=l(()=>e("div",{class:"url"},[e("span",null,"URL:"),e("input",{placeholder:"url",type:"text"})],-1)),F=l(()=>e("div",{class:"text"},[e("span",null,"Text:"),e("input",{placeholder:"text",type:"text"})],-1)),j={class:"add"},M=l(()=>e("label",{for:"img-top"},"Загрузить фото",-1)),O={class:"button-norm"};function $(o,t,a,i,n,s){return c(),d("div",f,[e("div",S,[B,e("div",k,[x,e("div",y,[e("div",I,[(c(!0),d(h,null,b(s.globalStore.movieBanners.banners,(r,_)=>(c(),d("div",{class:"result",key:_},[e("div",{onClick:D=>s.globalStore.deleteMovieBanner(_),class:"close"},R,8,w),e("img",{src:r.url},null,8,U),C,F]))),128))]),e("div",j,[e("input",{class:"img-top-input",id:"img-top",onChange:t[0]||(t[0]=r=>s.onFileSelected(r)),ref:"fileInput",type:"file",accept:"image/* ",multiple:""},null,544),M])]),e("div",O,[e("button",{class:"btn btn-block btn-success",onClick:t[1]||(t[1]=r=>s.globalStore.uploadMovieBanners())},"Редактировать")])])])])}const P=u(v,[["render",$],["__scopeId","data-v-833a0591"]]);export{P as default};
