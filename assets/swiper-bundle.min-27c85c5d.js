import{g as q,c as F,d as N,n as R,e as j}from"./swiper-slide-4e5cdb34.js";function V({swiper:a,extendParams:H,on:d,emit:f}){const y=q();let m=!1,C=null,E=null,T,i,c,D;H({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),a.scrollbar={el:null,dragEl:null};function p(){if(!a.params.scrollbar.el||!a.scrollbar.el)return;const{scrollbar:t,rtlTranslate:s}=a,{dragEl:l,el:n}=t,r=a.params.scrollbar,e=a.params.loop?a.progressLoop:a.progress;let u=i,o=(c-i)*e;s?(o=-o,o>0?(u=i-o,o=0):-o+i>c&&(u=c+o)):o<0?(u=i+o,o=0):o+i>c&&(u=c-o),a.isHorizontal()?(l.style.transform=`translate3d(${o}px, 0, 0)`,l.style.width=`${u}px`):(l.style.transform=`translate3d(0px, ${o}px, 0)`,l.style.height=`${u}px`),r.hide&&(clearTimeout(C),n.style.opacity=1,C=setTimeout(()=>{n.style.opacity=0,n.style.transitionDuration="400ms"},1e3))}function h(t){!a.params.scrollbar.el||!a.scrollbar.el||(a.scrollbar.dragEl.style.transitionDuration=`${t}ms`)}function L(){if(!a.params.scrollbar.el||!a.scrollbar.el)return;const{scrollbar:t}=a,{dragEl:s,el:l}=t;s.style.width="",s.style.height="",c=a.isHorizontal()?l.offsetWidth:l.offsetHeight,D=a.size/(a.virtualSize+a.params.slidesOffsetBefore-(a.params.centeredSlides?a.snapGrid[0]:0)),a.params.scrollbar.dragSize==="auto"?i=c*D:i=parseInt(a.params.scrollbar.dragSize,10),a.isHorizontal()?s.style.width=`${i}px`:s.style.height=`${i}px`,D>=1?l.style.display="none":l.style.display="",a.params.scrollbar.hide&&(l.style.opacity=0),a.params.watchOverflow&&a.enabled&&t.el.classList[a.isLocked?"add":"remove"](a.params.scrollbar.lockClass)}function z(t){return a.isHorizontal()?t.clientX:t.clientY}function b(t){const{scrollbar:s,rtlTranslate:l}=a,{el:n}=s;let r;r=(z(t)-j(n)[a.isHorizontal()?"left":"top"]-(T!==null?T:i/2))/(c-i),r=Math.max(Math.min(r,1),0),l&&(r=1-r);const e=a.minTranslate()+(a.maxTranslate()-a.minTranslate())*r;a.updateProgress(e),a.setTranslate(e),a.updateActiveIndex(),a.updateSlidesClasses()}function P(t){const s=a.params.scrollbar,{scrollbar:l,wrapperEl:n}=a,{el:r,dragEl:e}=l;m=!0,T=t.target===e?z(t)-t.target.getBoundingClientRect()[a.isHorizontal()?"left":"top"]:null,t.preventDefault(),t.stopPropagation(),n.style.transitionDuration="100ms",e.style.transitionDuration="100ms",b(t),clearTimeout(E),r.style.transitionDuration="0ms",s.hide&&(r.style.opacity=1),a.params.cssMode&&(a.wrapperEl.style["scroll-snap-type"]="none"),f("scrollbarDragStart",t)}function A(t){const{scrollbar:s,wrapperEl:l}=a,{el:n,dragEl:r}=s;m&&(t.preventDefault?t.preventDefault():t.returnValue=!1,b(t),l.style.transitionDuration="0ms",n.style.transitionDuration="0ms",r.style.transitionDuration="0ms",f("scrollbarDragMove",t))}function $(t){const s=a.params.scrollbar,{scrollbar:l,wrapperEl:n}=a,{el:r}=l;m&&(m=!1,a.params.cssMode&&(a.wrapperEl.style["scroll-snap-type"]="",n.style.transitionDuration=""),s.hide&&(clearTimeout(E),E=R(()=>{r.style.opacity=0,r.style.transitionDuration="400ms"},1e3)),f("scrollbarDragEnd",t),s.snapOnRelease&&a.slideToClosest())}function S(t){const{scrollbar:s,params:l}=a,n=s.el;if(!n)return;const r=n,e=l.passiveListeners?{passive:!1,capture:!1}:!1,u=l.passiveListeners?{passive:!0,capture:!1}:!1;if(!r)return;const o=t==="on"?"addEventListener":"removeEventListener";r[o]("pointerdown",P,e),y[o]("pointermove",A,e),y[o]("pointerup",$,u)}function k(){!a.params.scrollbar.el||!a.scrollbar.el||S("on")}function O(){!a.params.scrollbar.el||!a.scrollbar.el||S("off")}function v(){const{scrollbar:t,el:s}=a;a.params.scrollbar=F(a,a.originalParams.scrollbar,a.params.scrollbar,{el:"swiper-scrollbar"});const l=a.params.scrollbar;if(!l.el)return;let n;typeof l.el=="string"&&a.isElement&&(n=a.el.shadowRoot.querySelector(l.el)),!n&&typeof l.el=="string"?n=y.querySelectorAll(l.el):n||(n=l.el),a.params.uniqueNavElements&&typeof l.el=="string"&&n.length>1&&s.querySelectorAll(l.el).length===1&&(n=s.querySelector(l.el)),n.length>0&&(n=n[0]),n.classList.add(a.isHorizontal()?l.horizontalClass:l.verticalClass);let r;n&&(r=n.querySelector(`.${a.params.scrollbar.dragClass}`),r||(r=N("div",a.params.scrollbar.dragClass),n.append(r))),Object.assign(t,{el:n,dragEl:r}),l.draggable&&k(),n&&n.classList[a.enabled?"remove":"add"](a.params.scrollbar.lockClass)}function g(){const t=a.params.scrollbar,s=a.scrollbar.el;s&&s.classList.remove(a.isHorizontal()?t.horizontalClass:t.verticalClass),O()}d("init",()=>{a.params.scrollbar.enabled===!1?x():(v(),L(),p())}),d("update resize observerUpdate lock unlock",()=>{L()}),d("setTranslate",()=>{p()}),d("setTransition",(t,s)=>{h(s)}),d("enable disable",()=>{const{el:t}=a.scrollbar;t&&t.classList[a.enabled?"remove":"add"](a.params.scrollbar.lockClass)}),d("destroy",()=>{g()});const I=()=>{a.el.classList.remove(a.params.scrollbar.scrollbarDisabledClass),a.scrollbar.el&&a.scrollbar.el.classList.remove(a.params.scrollbar.scrollbarDisabledClass),v(),L(),p()},x=()=>{a.el.classList.add(a.params.scrollbar.scrollbarDisabledClass),a.scrollbar.el&&a.scrollbar.el.classList.add(a.params.scrollbar.scrollbarDisabledClass),g()};Object.assign(a.scrollbar,{enable:I,disable:x,updateSize:L,setTranslate:p,init:v,destroy:g})}function G({swiper:a,extendParams:H,on:d,emit:f,params:y}){a.autoplay={running:!1,paused:!1,timeLeft:0},H({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let m,C,E=y&&y.autoplay?y.autoplay.delay:3e3,T=y&&y.autoplay?y.autoplay.delay:3e3,i,c=new Date().getTime,D,p,h,L,z,b;function P(e){!a||a.destroyed||!a.wrapperEl||e.target===a.wrapperEl&&(a.wrapperEl.removeEventListener("transitionend",P),g())}const A=()=>{if(a.destroyed||!a.autoplay.running)return;a.autoplay.paused?D=!0:D&&(T=i,D=!1);const e=a.autoplay.paused?i:c+T-new Date().getTime();a.autoplay.timeLeft=e,f("autoplayTimeLeft",e,e/E),C=requestAnimationFrame(()=>{A()})},$=()=>{let e;return a.virtual&&a.params.virtual.enabled?e=a.slides.filter(o=>o.classList.contains("swiper-slide-active"))[0]:e=a.slides[a.activeIndex],e?parseInt(e.getAttribute("data-swiper-autoplay"),10):void 0},S=e=>{if(a.destroyed||!a.autoplay.running)return;cancelAnimationFrame(C),A();let u=typeof e>"u"?a.params.autoplay.delay:e;E=a.params.autoplay.delay,T=a.params.autoplay.delay;const o=$();!Number.isNaN(o)&&o>0&&typeof e>"u"&&(u=o,E=o,T=o),i=u;const M=a.params.speed,B=()=>{!a||a.destroyed||(a.params.autoplay.reverseDirection?!a.isBeginning||a.params.loop||a.params.rewind?(a.slidePrev(M,!0,!0),f("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(a.slides.length-1,M,!0,!0),f("autoplay")):!a.isEnd||a.params.loop||a.params.rewind?(a.slideNext(M,!0,!0),f("autoplay")):a.params.autoplay.stopOnLastSlide||(a.slideTo(0,M,!0,!0),f("autoplay")),a.params.cssMode&&(c=new Date().getTime(),requestAnimationFrame(()=>{S()})))};return u>0?(clearTimeout(m),m=setTimeout(()=>{B()},u)):requestAnimationFrame(()=>{B()}),u},k=()=>{a.autoplay.running=!0,S(),f("autoplayStart")},O=()=>{a.autoplay.running=!1,clearTimeout(m),cancelAnimationFrame(C),f("autoplayStop")},v=(e,u)=>{if(a.destroyed||!a.autoplay.running)return;clearTimeout(m),e||(b=!0);const o=()=>{f("autoplayPause"),a.params.autoplay.waitForTransition?a.wrapperEl.addEventListener("transitionend",P):g()};if(a.autoplay.paused=!0,u){z&&(i=a.params.autoplay.delay),z=!1,o();return}i=(i||a.params.autoplay.delay)-(new Date().getTime()-c),!(a.isEnd&&i<0&&!a.params.loop)&&(i<0&&(i=0),o())},g=()=>{a.isEnd&&i<0&&!a.params.loop||a.destroyed||!a.autoplay.running||(c=new Date().getTime(),b?(b=!1,S(i)):S(),a.autoplay.paused=!1,f("autoplayResume"))},I=()=>{if(a.destroyed||!a.autoplay.running)return;const e=q();e.visibilityState==="hidden"&&(b=!0,v(!0)),e.visibilityState==="visible"&&g()},x=e=>{e.pointerType==="mouse"&&(b=!0,v(!0))},t=e=>{e.pointerType==="mouse"&&a.autoplay.paused&&g()},s=()=>{a.params.autoplay.pauseOnMouseEnter&&(a.el.addEventListener("pointerenter",x),a.el.addEventListener("pointerleave",t))},l=()=>{a.el.removeEventListener("pointerenter",x),a.el.removeEventListener("pointerleave",t)},n=()=>{q().addEventListener("visibilitychange",I)},r=()=>{q().removeEventListener("visibilitychange",I)};d("init",()=>{a.params.autoplay.enabled&&(s(),n(),c=new Date().getTime(),k())}),d("destroy",()=>{l(),r(),a.autoplay.running&&O()}),d("beforeTransitionStart",(e,u,o)=>{a.destroyed||!a.autoplay.running||(o||!a.params.autoplay.disableOnInteraction?v(!0,!0):O())}),d("sliderFirstMove",()=>{if(!(a.destroyed||!a.autoplay.running)){if(a.params.autoplay.disableOnInteraction){O();return}p=!0,h=!1,b=!1,L=setTimeout(()=>{b=!0,h=!0,v(!0)},200)}}),d("touchEnd",()=>{if(!(a.destroyed||!a.autoplay.running||!p)){if(clearTimeout(L),clearTimeout(m),a.params.autoplay.disableOnInteraction){h=!1,p=!1;return}h&&a.params.cssMode&&g(),h=!1,p=!1}}),d("slideChange",()=>{a.destroyed||!a.autoplay.running||(z=!0)}),Object.assign(a.autoplay,{start:k,stop:O,pause:v,resume:g})}export{G as A,V as S};
