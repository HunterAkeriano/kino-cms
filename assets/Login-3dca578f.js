import{n as m,r as b,o as l,d as r,l as u,e as s,t as o,u as i,q as h,v as p,s as c,g as f,w as v,x as E,A as g}from"./index-bff362dc.js";const S={class:"block"},k={key:0,class:"eror"},w=s("h2",null,"Не известная ошибка, попробуйте позже",-1),y=[w],V={class:"login-box mt-5"},P=s("div",{class:"login-logo"},[s("a",null,[s("b",null,"Kino"),E("CMS")])],-1),A={class:"card"},C={class:"card-body login-card-body"},L={class:"login-box-msg"},R={class:"input-group mb-3"},z=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-envelope"})])],-1),N={key:0,class:"emailWrong"},W={key:1,class:"emailWrong"},B={class:"input-group mb-3"},Z=s("div",{class:"input-group-append"},[s("div",{class:"input-group-text"},[s("span",{class:"fas fa-lock"})])],-1),D={key:2,class:"passWrong"},M={key:3,class:"passWrong"},T={class:"row"},U={class:"col-6"},$={class:"col-6"},j={class:"btn btn-block btn-success"},q={data(){return{errorEmail:!0,trueEmail:!1,passValid:!1,passwordError:"",passResult:!1}},methods:{validPass(){if(/[а-яА-ЯЁё]/.test(this.globalStore.authPass)){this.passwordError="Пароль не должен содержать русские буквы",this.passValid=!0;return}if(this.globalStore.authPass.length<6){this.passwordError="Пароль должен содержать не менее 6 символов",this.passValid=!0;return}this.passValid=!1,this.passResult=!0,this.passwordError=""},validateEmail(){/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.globalStore.authEmail)?(this.errorEmail=!0,this.trueEmail=!0):this.errorEmail=!1},login(){this.validateEmail(),this.validPass(),this.trueEmail&&this.passResult&&(this.globalStore.notLogin=!1,this.globalStore.errorPass=!1,this.passResult=!1,this.trueEmail=!1,this.globalStore.defaultError=!1,this.globalStore.login())}},mounted(){this.globalStore=g()},computed:{globalStore(){return g()},userAuth(){return this.globalStore.userAuth}},watch:{userAuth(d){d!==null&&this.$router.push("/profile")}}},O=Object.assign(q,{__name:"Login",setup(d){const a=m();return(t,e)=>{const _=b("router-link");return l(),r("div",S,[t.globalStore.defaultError?(l(),r("div",k,y)):u("",!0),s("div",V,[P,s("div",A,[s("div",C,[s("p",L,o(i(a).lang=="0"?"Авторизация":"Авторизація"),1),s("div",null,[s("div",R,[h(s("input",{"onUpdate:modelValue":e[0]||(e[0]=n=>t.globalStore.authEmail=n),class:c([{error:!t.errorEmail},"form-control email"]),type:"email",placeholder:"Email"},null,2),[[p,t.globalStore.authEmail]]),z]),t.errorEmail?u("",!0):(l(),r("h3",N,o(i(a).lang=="0"?"Не допустимый email":"Не припустимий email"),1)),t.globalStore.notLogin?(l(),r("h3",W,o(i(a).lang=="0"?"Данного аккаунта нет":"Даного аккаунту не має"),1)):u("",!0),s("div",B,[h(s("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>t.globalStore.authPass=n),class:c([{eror:t.passValid},"form-control pass"]),type:"password",placeholder:"Password"},null,2),[[p,t.globalStore.authPass]]),Z]),t.passwordError?(l(),r("h3",D,o(t.passwordError),1)):u("",!0),t.globalStore.errorPass?(l(),r("h3",M,o(i(a).lang=="0"?"Пароль не верный":"Пароль не правильний"),1)):u("",!0),s("div",T,[s("div",U,[s("button",{onClick:e[2]||(e[2]=(...n)=>t.login&&t.login(...n)),class:"btn btn-primary btn-block"},o(i(a).lang=="0"?"Логин":"Авторизація"),1)]),s("div",$,[f(_,{to:"/register"},{default:v(()=>[s("button",j,o(i(a).lang=="0"?"Регистрация":"Реєстрація"),1)]),_:1})])])])])])])])}}});export{O as default};
